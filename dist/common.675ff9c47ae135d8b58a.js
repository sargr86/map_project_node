(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Q21o:function(e,t,n){"use strict";n.r(t),n.d(t,"EmployeesModule",(function(){return w}));var r=n("Valr"),a=n("DUip"),o=n("fq9n"),i=n("9xOu"),s=n("7dP1"),l=n("TYT/"),c=n("Ukt7"),m=function(){function e(e,t,n){this._employees=e,this.route=t,this.auth=n,this.displayedColumns=i.q}return e.prototype.ngOnInit=function(){var e=this;this.route.data.subscribe((function(t){e.employees=e._employees.get("partner"===t.expectedRole?e.auth.userData.company.name:"")}))},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](a.a),l["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-show-employees"]],decls:6,vars:3,consts:[[1,"tableContainer"],[1,"formTitle"],[1,"fa","fa-users","title-sign"],[3,"dataObs","cols","item"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h4",1),l["\u0275\u0275element"](2,"i",2),l["\u0275\u0275elementStart"](3,"span"),l["\u0275\u0275text"](4,"Employees"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](5,"app-mat-table",3),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("dataObs",t.employees)("cols",t.displayedColumns)("item","employees"))},directives:[c.a],styles:[""]}),e}(),d=n("hvvZ");function p(e,t){1&e&&l["\u0275\u0275element"](0,"app-invitation-form")}var u=function(){function e(){this.editCase=!1}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-save-employee"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&l["\u0275\u0275template"](0,p,1,0,"app-invitation-form",0),2&e&&l["\u0275\u0275property"]("ngIf",!t.editCase)},directives:[r.l,d.a],styles:[""]}),e}(),f=n("oUVn"),h=function(){function e(e){this.common=e}return e.prototype.ngOnInit=function(){this.common.dataLoading=!1},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e}(),v=n("NUQi"),y=n("Ybi4"),g=n("nPaU"),C=n("DYpl"),b=n("dpbs"),x=[{path:"",redirectTo:"show"},{path:"show",component:m},{path:"add",component:u,data:{title:"Invite an employee",user_type:"employee",expectedRole:"admin"}},{path:"dashboard/show",component:h},{path:"dashboard/edit",data:{title:"Edit profile",expectedRole:"employee"},canActivate:[v.a,y.a],resolve:{user:g.a},component:C.a},{path:"jobs",loadChildren:"../jobs/jobs.module#JobsModule",canActivate:[v.a,y.a]},{path:":id",component:C.a,resolve:{user:g.a},canActivate:[b.a]}],I=function(){function e(){}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.e.forChild(x)],a.e]}),e}(),E=n("PCNd"),w=function(){function e(){}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,I,E.a]]}),e}()},qHMa:function(e,t,n){"use strict";n.r(t),n.d(t,"PartnersModule",(function(){return te}));var r=n("Valr"),a=n("DUip"),o=n("7dP1"),i=n("TYT/"),s=function(){function e(e){this.auth=e}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profile"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e}(),l=n("NUQi"),c=n("Ybi4"),m=n("SqD4"),d=n("9xOu"),p=n("Ukt7"),u=function(){function e(e){this._partner=e,this.displayedColumns=d.B}return e.prototype.ngOnInit=function(){this.partners=this._partner.getAllpartner()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-show-partners"]],decls:5,vars:3,consts:[[1,"formTitle"],[1,"fa","fa-users","title-sign"],[3,"dataObs","cols","item"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h4",0),i["\u0275\u0275element"](1,"i",1),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3,"Partners"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"app-mat-table",2)),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("dataObs",t.partners)("cols",t.displayedColumns)("item","partners"))},directives:[p.a],styles:[""]}),e}(),f=n("QJY3"),h=n("oUVn"),v=n("Esjb"),y=n("cLpZ"),g=n("qT8p"),C=n("uad8"),b=n("eHTH"),x=n("cSbt"),I=n("JSU2"),E=n("GsDI"),w=n("p+mS"),S=n("agxM"),j=n("MqYC"),F=n("hvvZ");function P(e,t){if(1&e&&i["\u0275\u0275element"](0,"mat-spinner",6),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}function _(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"mat-icon",14),i["\u0275\u0275text"](2,"add_box"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4,"Add a new partner"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]())}function O(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"mat-icon"),i["\u0275\u0275text"](2,"edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4,"Edit partner details"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]())}function M(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1," First name is "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3,"required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1," Last name is "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3,"required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field"),i["\u0275\u0275element"](1,"input",15),i["\u0275\u0275elementStart"](2,"mat-error",16),i["\u0275\u0275text"](3," E-mail is "),i["\u0275\u0275elementStart"](4,"strong"),i["\u0275\u0275text"](5,"required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"mat-error",16),i["\u0275\u0275text"](7," E-mail is "),i["\u0275\u0275elementStart"](8,"strong"),i["\u0275\u0275text"](9,"invalid"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!n.emailCtrl.hasError("required")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("hidden",!n.emailCtrl.hasError("patternInvalid"))}}function N(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field"),i["\u0275\u0275element"](1,"input",17),i["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1," Phone number is "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3,"required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1," Phone number is "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3,"invalid"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function D(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,k,4,0,"mat-error",1),i["\u0275\u0275template"](2,U,4,0,"mat-error",1),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.phoneCtrl.hasError("required")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.phoneCtrl.hasError("patternInvalid"))}}function V(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",20),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.name)}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field"),i["\u0275\u0275elementStart"](1,"mat-select",18),i["\u0275\u0275elementStart"](2,"mat-option"),i["\u0275\u0275text"](3,"Please select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,V,2,2,"mat-option",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",n.partnerType)}}function L(e,t){if(1&e&&i["\u0275\u0275element"](0,"mat-spinner",6),2&e){var n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}function R(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",7),i["\u0275\u0275elementStart"](1,"h4",8),i["\u0275\u0275template"](2,_,5,0,"ng-container",1),i["\u0275\u0275template"](3,O,5,0,"ng-container",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"mat-form-field"),i["\u0275\u0275element"](5,"input",9),i["\u0275\u0275template"](6,M,4,0,"mat-error",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"mat-form-field"),i["\u0275\u0275element"](8,"input",10),i["\u0275\u0275template"](9,q,4,0,"mat-error",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,T,10,2,"mat-form-field",1),i["\u0275\u0275template"](11,N,2,0,"mat-form-field",1),i["\u0275\u0275elementStart"](12,"mat-label"),i["\u0275\u0275text"](13,"Phone*"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"international-phone-number",11),i["\u0275\u0275listener"]("change",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).changed(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,D,3,2,"ng-container",1),i["\u0275\u0275template"](16,A,5,1,"mat-form-field",1),i["\u0275\u0275template"](17,L,1,1,"mat-spinner",3),i["\u0275\u0275elementStart"](18,"button",12),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"](2);return e.router.navigate([e.redirectUrl])})),i["\u0275\u0275elementStart"](19,"mat-icon"),i["\u0275\u0275text"](20,"arrow_back"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"button",13),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).savePartner()})),i["\u0275\u0275text"](22," Save "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("formGroup",r.savePartnerForm),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!r.editCase),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.editCase),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",r.firstNameCtrl.hasError("required")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",r.lastNameCtrl.hasError("required")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!r.editCase),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!r.editCase),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("maxlength",20)("defaultCountry",r.defaultCountry)("required",!0)("allowedCountries",r.allowedCountries),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!r.phoneCtrl.pristine),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.partnerType),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.common.formProcessing)}}function Y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"small",21),i["\u0275\u0275text"](1,"Partner data is not loaded"),i["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,P,1,1,"mat-spinner",3),i["\u0275\u0275template"](2,R,23,14,"form",4),i["\u0275\u0275template"](3,Y,2,0,"small",5),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.common.dataLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.showForm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.partnerInfo&&n.editCase&&!n.common.dataLoading)}}function G(e,t){1&e&&i["\u0275\u0275element"](0,"app-invitation-form")}var J=function(){function e(e,t,n,r,a,o){var i=this;this._fb=e,this.route=t,this._partner=n,this.router=r,this.toastr=a,this.common=o,this.partnersFields={first_name:["",f.x.required],last_name:["",f.x.required],email:["",[f.x.required,Object(v.a)(y.a)]],partner_type_id:["",f.x.required],phone:["",[f.x.required]],id:""},this.editCase=!1,this.spinnerDiameter=d.F,this.allowedCountries=d.e,this.defaultCountry=d.m,this.redirectUrl="admin/partners/show",this.editCase||(this.partnersFields.pass=["",f.x.required]),this.savePartnerForm=this._fb.group(this.partnersFields),this._partner.getTypes().subscribe((function(e){i.partnerType=e}));var s=this.route.snapshot.paramMap.get("id");s&&(this.common.dataLoading=!0,this.editCase=!0,this._partner.getOnePartner({id:s}).subscribe((function(e){i.partnerInfo=e,delete i.partnersFields.pass,i.savePartnerForm=i._fb.group(i.partnersFields),i.savePartnerForm.patchValue(i.partnerInfo),i.common.dataLoading=!1}))),this.common.dataLoading=!1}return e.prototype.ngOnInit=function(){},e.prototype.savePartner=function(){var e=this,t=this.savePartnerForm.value;this.common.formProcessing=!0,this.editCase?this._partner.updatePartnerInfo(t).subscribe((function(){e.toastr.success("Partner info has been updated successfully"),e.router.navigate([e.redirectUrl]),e.common.formProcessing=!1})):this._partner.insertPartner(t).subscribe((function(){e.toastr.success("Partner info has been added successfully"),e.router.navigate([e.redirectUrl]),e.common.formProcessing=!1}))},Object.defineProperty(e.prototype,"showForm",{get:function(){return!this.common.dataLoading&&(!this.editCase||this.partnerInfo&&this.editCase)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNameCtrl",{get:function(){return this.savePartnerForm.get("first_name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNameCtrl",{get:function(){return this.savePartnerForm.get("last_name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emailCtrl",{get:function(){return this.savePartnerForm.get("email")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phoneCtrl",{get:function(){return this.savePartnerForm.get("phone")},enumerable:!0,configurable:!0}),e.prototype.changed=function(e){this.savePartnerForm.patchValue({phone:e.target.value})},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](f.d),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](a.d),i["\u0275\u0275directiveInject"](g.b),i["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-save-partner"]],decls:2,vars:2,consts:[["class","partnerForm",4,"ngIf"],[4,"ngIf"],[1,"partnerForm"],[3,"diameter",4,"ngIf"],["class","savePartnerForm",3,"formGroup",4,"ngIf"],["class","no_data",4,"ngIf"],[3,"diameter"],[1,"savePartnerForm",3,"formGroup"],[1,"formTitle"],["matInput","","formControlName","first_name","placeholder","First name","required",""],["matInput","","formControlName","last_name","placeholder","Last name","required",""],["placeholder","Phone number","formControlName","phone",3,"maxlength","defaultCountry","required","allowedCountries","change"],["type","button",1,"backBtn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"title_sign"],["matInput","","formControlName","email","placeholder","E-mail","required",""],[3,"hidden"],["type","password","matInput","","formControlName","pass","placeholder","Password","required",""],["placeholder","Type","formControlName","partner_type_id","required",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"no_data"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,H,4,3,"div",0),i["\u0275\u0275template"](1,G,1,0,"app-invitation-form",1)),2&e&&(i["\u0275\u0275property"]("ngIf",t.editCase),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.editCase))},directives:[r.l,C.b,f.z,f.p,f.h,b.b,x.b,f.b,f.o,f.g,f.v,b.f,I.b,f.k,E.a,w.b,b.a,S.a,j.n,r.k,F.a],styles:[".savePartnerForm[_ngcontent-%COMP%]{max-width:600px;width:100%;margin-left:270px}@media screen and (max-width:1200px){.savePartnerForm[_ngcontent-%COMP%]{width:90%;float:inherit;margin:0 3%}}"]}),e}(),Q=n("nPaU"),z=n("DYpl"),B=n("dpbs"),Z=[{path:"",canActivate:[n("o5H1").a]},{path:"show",component:u},{path:"invite",component:J,data:{title:"Invite a partner",user_type:"partner",expectedRole:"admin"}},{path:"dashboard/show",component:s},{path:"dashboard/edit",component:z.a,data:{title:"Edit profile",expectedRole:"partner"},canActivate:[l.a,c.a],resolve:{user:Q.a}},{path:"employees",loadChildren:"../employees/employees.module#EmployeesModule",data:{expectedRole:"partner"},canActivate:[l.a,c.a]},{path:"ferries",loadChildren:"../ferries/ferries.module#FerriesModule",data:{expectedRole:"partner"},canActivate:[c.a]},{path:"tours",loadChildren:"../tours/tours.module#ToursModule",data:{expectedRole:"partner"},canActivate:[l.a,c.a]},{path:"food-drink",loadChildren:"../food-drink/food-drink.module#FoodDrinkModule",data:{expectedRole:"partner"},canActivate:[l.a,c.a]},{path:"accommodations",loadChildren:"../accommodation/accommodation.module#AccommodationModule",data:{expectedRole:"partner"},canActivate:[l.a,c.a]},{path:"activities",loadChildren:"../activities/activities.module#ActivitiesModule",data:{expectedRole:"partner"},canActivate:[l.a,c.a]},{path:"jobs",loadChildren:"../jobs/jobs.module#JobsModule",data:{expectedRole:"partner"},canActivate:[l.a,c.a]},{path:":id",component:J,canActivate:[B.a]}],$=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.e.forChild(Z)],a.e]}),e}(),K=n("PCNd"),W=n("9h4u"),X=n("NyQy"),ee=n("HqK/"),te=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,K.a,$,W.FerriesModule,X.ToursModule,ee.FoodDrinkModule]]}),e}()},vTna:function(e,t,n){"use strict";n.r(t),n.d(t,"JobsModule",(function(){return E}));var r=n("Valr"),a=n("DUip"),o=n("TYT/"),i=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-show-jobs"]],decls:2,vars:0,template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p"),o["\u0275\u0275text"](1," show-jobs works!\n"),o["\u0275\u0275elementEnd"]())},styles:[""]}),e}(),s=n("Gv2p"),l=n("tVj7"),c=n("oUVn"),m=n("QJY3"),d=n("qT8p"),p=n("eHTH"),u=n("agxM"),f=n("p+mS"),h=n("MqYC");function v(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",7),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275property"]("value",n.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.full_name)}}function y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",7),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275property"]("value",n.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.name)}}function g(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"form",2),o["\u0275\u0275elementStart"](1,"mat-form-field"),o["\u0275\u0275elementStart"](2,"mat-label"),o["\u0275\u0275text"](3,"Select a driver"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"mat-select",3),o["\u0275\u0275listener"]("selectionChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().changeDriver(e)})),o["\u0275\u0275template"](5,v,2,2,"mat-option",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"mat-form-field"),o["\u0275\u0275elementStart"](7,"mat-label"),o["\u0275\u0275text"](8,"Select a ferry"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"mat-select",5),o["\u0275\u0275listener"]("selectionChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().changeFerry(e)})),o["\u0275\u0275template"](10,y,2,2,"mat-option",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"button",6),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().assignDriverToFerry()})),o["\u0275\u0275text"](12,"Assign"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("formGroup",r.assignFerryForm),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngForOf",r.driversList),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngForOf",r.ferriesList)}}var C=function(){function e(e,t,n,r,a,o,i){this.router=e,this.route=t,this._ferries=n,this._users=r,this._fb=a,this.common=o,this.toastr=i,this.routeParams=this.route.snapshot.paramMap}return e.prototype.ngOnInit=function(){var e=this;this.jobCategory=this.routeParams.get("cat")||"";var t=this.routeParams.get("user");this.assignFerryForm=this._fb.group({driver_id:t,ferry_id:""}),this._ferries.getFerries({}).subscribe((function(t){e.ferriesList=t,e._users.getUsersByRole({position:"Driver"}).subscribe((function(t){e.driversList=t,e.common.dataLoading=!1}))}))},e.prototype.changeFerry=function(e){this.selectedFerry=e.source.selected.viewValue},e.prototype.changeDriver=function(e){this.selectedDriver=e.source.selected.viewValue},e.prototype.assignDriverToFerry=function(){var e=this;this._ferries.assignDriver(this.assignFerryForm.value).subscribe((function(t){e.toastr.success("<strong>"+e.selectedDriver+"</strong> will drive\n        <strong>"+e.selectedFerry+"</strong>","Success!",{enableHtml:!0})}))},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.d),o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](l.a),o["\u0275\u0275directiveInject"](m.d),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-assign-job"]],decls:2,vars:1,consts:[[1,"formContainer"],["class","assignFerryForm",3,"formGroup",4,"ngIf"],[1,"assignFerryForm",3,"formGroup"],["formControlName","driver_id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ferry_id",3,"selectionChange"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,g,13,3,"form",1),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","ferries"===t.jobCategory))},directives:[r.l,m.z,m.p,m.h,p.b,p.f,u.a,m.o,m.g,r.k,f.b,h.n],styles:[".formContainer[_ngcontent-%COMP%]{display:flex;width:90%;margin:0 auto}.formContainer[_ngcontent-%COMP%]   .assignFerryForm[_ngcontent-%COMP%]{width:50%}"]}),e}(),b=[{path:"",canActivate:[n("o5H1").a]},{path:"show",component:i},{path:"assign",component:C}],x=function(){function e(){}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.e.forChild(b)],a.e]}),e}(),I=n("PCNd"),E=function(){function e(){}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,x,I.a]]}),e}()},vfUp:function(e,t,n){"use strict";n.r(t),n.d(t,"CustomersModule",(function(){return g}));var r=n("Valr"),a=n("DUip"),o=n("oUVn"),i=n("TYT/"),s=function(){function e(e){this.common=e}return e.prototype.ngOnInit=function(){this.common.dataLoading=!1},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1," dashboard works!\n"),i["\u0275\u0275elementEnd"]())},styles:[""]}),e}(),l=n("9xOu"),c=n("cUzu"),m=function(){function e(e){this.http=e}return e.prototype.get=function(){return this.http.get(l.g+"customers/get")},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](c.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),d=n("Ukt7"),p=function(){function e(e){this._customers=e,this.displayedColumns=l.i}return e.prototype.ngOnInit=function(){this.customers=this._customers.get()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](m))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-show-customers"]],decls:6,vars:3,consts:[[1,"tableContainer"],[1,"formTitle"],[1,"fa","fa-users","title-sign"],[3,"dataObs","cols","item"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h4",1),i["\u0275\u0275element"](2,"i",2),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4,"Customers"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"app-mat-table",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("dataObs",t.customers)("cols",t.displayedColumns)("item","customers"))},directives:[d.a],styles:[""]}),e}(),u=n("DYpl"),f=n("nPaU"),h=[{path:"",redirectTo:"show"},{path:"show",component:p},{path:"dashboard/show",component:s},{path:"dashboard/edit",component:u.a,resolve:{user:f.a}}],v=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.e.forChild(h)],a.e]}),e}(),y=n("PCNd"),g=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,v,y.a]]}),e}()}}]);