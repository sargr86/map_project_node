(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Esjb:function(e,t,n){"use strict";function r(e){return function(t){var n=t.value;return n?e.test(n)?null:{patternInvalid:{pattern:e}}:null}}n.d(t,"a",(function(){return r}))},Yj9t:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthModule",(function(){return H}));var r=n("Valr"),o=n("DUip"),i=n("QJY3"),a=n("Esjb"),m=n("7dP1"),s=n("cLpZ"),l=n("BOF4"),c=n("oUVn"),d=n("9xOu"),p=n("Sw3e"),g=n("TYT/"),u=n("eHTH"),f=n("cSbt"),h=n("p+mS"),C=n("GsDI"),b=n("uad8");function _(e,t){if(1&e&&g["\u0275\u0275element"](0,"mat-spinner",13),2&e){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}var v=function(){function e(e,t,n,r,o,i){this._router=e,this._auth=t,this._fb=n,this.route=r,this.common=o,this.websocketService=i,this.spinnerDiameter=d.F,this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e=this;this.subscriptions.push(this.route.data.subscribe((function(t){e.userType=t.user}))),this.loginForm=this._fb.group({email:new i.e(null,{validators:[i.x.required,Object(a.a)(s.a)]}),password:["",i.x.required]}),this.common.dataLoading=!1},e.prototype.login=function(){var e=this;this.common.formProcessing=!0,this.subscriptions.push(this._auth.login(this.loginForm.value).subscribe((function(t){localStorage.setItem("token",t.hasOwnProperty("token")?t.token:""),e._auth.userData=l(localStorage.getItem("token")),e.userPosition=e._auth.userData.position.name,e.isOperator="Operator"===e.userPosition||"Director"===e.userPosition;var n=e._auth.userData.role.name_en.toLowerCase(),r=d.M.find((function(e){return e.role===n}));e._router.navigate([(r?r.label:"admin")+"/dashboard/show"]),e.isOperator?e.websocketService.emit("newUser",{socket_nickname:"Operator",email:e._auth.userData.email}):(e.websocketService.emit("newUser",e._auth.userData),e.websocketService.emit("update-connected-users"))})))},e.prototype.getGoogleAuthUrl=function(){return d.g+"auth/google"},e.prototype.getFbAuthUrl=function(){return d.g+"auth/facebook"},Object.defineProperty(e.prototype,"email",{get:function(){return this.loginForm.get("email")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pass",{get:function(){return this.loginForm.get("password")},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.common.formProcessing=!1,this.subscriptions.forEach((function(e){return e.unsubscribe()}))},e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](o.d),g["\u0275\u0275directiveInject"](m.a),g["\u0275\u0275directiveInject"](i.d),g["\u0275\u0275directiveInject"](o.a),g["\u0275\u0275directiveInject"](c.a),g["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login"]],decls:35,vars:14,consts:[[1,"allContainer"],[1,"formContainer"],[1,"loginForm",3,"formGroup"],["matInput","",3,"placeholder","formControlName"],[3,"hidden"],["matInput","","type","password",3,"placeholder","formControlName"],[3,"diameter",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","",1,"googleLoginBtn",3,"href"],[1,"fab","fa-google"],["mat-raised-button","",1,"facebookLoginBtn",3,"href","hidden"],[1,"fab","fa-facebook-square"],[3,"diameter"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"form",2),g["\u0275\u0275elementStart"](3,"h3"),g["\u0275\u0275text"](4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"mat-form-field"),g["\u0275\u0275element"](6,"input",3),g["\u0275\u0275elementStart"](7,"mat-error",4),g["\u0275\u0275text"](8,"E-mail is "),g["\u0275\u0275elementStart"](9,"strong"),g["\u0275\u0275text"](10,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"mat-error",4),g["\u0275\u0275text"](12,"E-mail is "),g["\u0275\u0275elementStart"](13,"strong"),g["\u0275\u0275text"](14,"invalid"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"mat-form-field"),g["\u0275\u0275element"](16,"input",5),g["\u0275\u0275elementStart"](17,"mat-error",4),g["\u0275\u0275text"](18,"Password is "),g["\u0275\u0275elementStart"](19,"strong"),g["\u0275\u0275text"](20,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](21,_,1,1,"mat-spinner",6),g["\u0275\u0275elementStart"](22,"div",7),g["\u0275\u0275elementStart"](23,"button",8),g["\u0275\u0275listener"]("click",(function(){return t.login()})),g["\u0275\u0275text"](24," Sign in "),g["\u0275\u0275elementStart"](25,"mat-icon"),g["\u0275\u0275text"](26,"arrow_forward"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"a",9),g["\u0275\u0275element"](28,"i",10),g["\u0275\u0275elementStart"](29,"span"),g["\u0275\u0275text"](30,"Sign in with Google"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"a",11),g["\u0275\u0275element"](32,"i",12),g["\u0275\u0275elementStart"](33,"span"),g["\u0275\u0275text"](34,"Sign in with Facebook"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("formGroup",t.loginForm),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](t.userType),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("placeholder","E-mail")("formControlName","email"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",!t.email.hasError("required")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("hidden",!t.email.hasError("patternInvalid")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("placeholder","Password")("formControlName","password"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",!t.pass.hasError("required")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",t.common.formProcessing),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("disabled",!t.loginForm.valid||t.common.formProcessing),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("href",t.getGoogleAuthUrl(),g["\u0275\u0275sanitizeUrl"]),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("href",t.getFbAuthUrl(),g["\u0275\u0275sanitizeUrl"])("hidden",!0))},directives:[i.z,i.p,i.h,u.b,f.b,i.b,i.o,i.g,u.a,r.l,h.b,C.a,h.a,b.b],styles:[".formContainer[_ngcontent-%COMP%]{width:100%;margin:250px auto;height:100vh;display:flex;justify-content:center}.formContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;text-transform:capitalize}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;max-width:400px;padding-left:15px;padding-right:15px}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-transform:uppercase;margin-top:20px;text-align:center;color:#fff}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:-3px}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .facebookLoginBtn[_ngcontent-%COMP%]{background-color:#3b5998}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .facebookLoginBtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .googleLoginBtn[_ngcontent-%COMP%]{background-color:#dd4b39}.formContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .googleLoginBtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}.mat-toolbar[_ngcontent-%COMP%]{position:absolute;background-color:#062845;display:flex;justify-content:space-between;margin-bottom:20px}.mat-toolbar[_ngcontent-%COMP%]   .homeBtn[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.mat-toolbar[_ngcontent-%COMP%]   .homeBtn[_ngcontent-%COMP%]{display:block;float:left;background:none;border:none;outline:none!important;border-radius:30px;width:30px;height:30px;padding:0}.mat-toolbar[_ngcontent-%COMP%]   .homeBtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:3px}"]}),e}(),P=n("YpNe"),y=n("SqD4"),x=n("NuaS"),O=n("Izji"),M=n("mWkv"),E=n("Wjhp"),S=n("agxM"),I=n("MqYC"),w=n("wUEx");function F(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"h2"),g["\u0275\u0275text"](1,"The registration session has been expired"),g["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"mat-error"),g["\u0275\u0275text"](1,"First name is "),g["\u0275\u0275elementStart"](2,"strong"),g["\u0275\u0275text"](3,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"mat-error"),g["\u0275\u0275text"](1,"Last name is "),g["\u0275\u0275elementStart"](2,"strong"),g["\u0275\u0275text"](3,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-option",9),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n.role),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",n.label," ")}}function z(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-option",9),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n.id),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function D(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-form-field"),g["\u0275\u0275elementStart"](1,"mat-select",23),g["\u0275\u0275elementStart"](2,"mat-option"),g["\u0275\u0275text"](3,"Please choose"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,z,2,2,"mat-option",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"mat-error",11),g["\u0275\u0275text"](6,"Business type is "),g["\u0275\u0275elementStart"](7,"strong"),g["\u0275\u0275text"](8,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngForOf",n.partnerTypes),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",!n.fieldType.hasError("required"))}}function N(e,t){if(1&e&&g["\u0275\u0275element"](0,"mat-spinner",24),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}function T(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"dropzone",25,26),g["\u0275\u0275listener"]("removedFile",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).removeImage()}))("thumbnail",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).onAddedFile(e)})),g["\u0275\u0275elementEnd"]()}if(2&e){var r=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("config",r.dropzoneConfig)("message","Click or drag an image to upload")}}function U(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",27),g["\u0275\u0275pipe"](1,"getImageUrl"),g["\u0275\u0275elementStart"](2,"i",28),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).removeImage()})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var r=g["\u0275\u0275nextContext"](2);g["\u0275\u0275styleProp"]("background",g["\u0275\u0275pipeBind3"](1,2,r.profileImg,"users",!0),g["\u0275\u0275defaultStyleSanitizer"])}}function B(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"form",3),g["\u0275\u0275elementStart"](1,"h2",4),g["\u0275\u0275elementStart"](2,"mat-icon"),g["\u0275\u0275text"](3,"person_add"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"span",5),g["\u0275\u0275text"](5,"Registration"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"div",6),g["\u0275\u0275elementStart"](7,"mat-form-field"),g["\u0275\u0275element"](8,"input",7),g["\u0275\u0275template"](9,k,4,0,"mat-error",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"mat-form-field"),g["\u0275\u0275element"](11,"input",7),g["\u0275\u0275template"](12,j,4,0,"mat-error",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"mat-radio-group",8),g["\u0275\u0275elementStart"](14,"mat-radio-button",9),g["\u0275\u0275text"](15,"Male"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"mat-radio-button",9),g["\u0275\u0275text"](17,"Female"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"mat-form-field"),g["\u0275\u0275element"](19,"input",10),g["\u0275\u0275elementStart"](20,"mat-error",11),g["\u0275\u0275text"](21,"E-mail is "),g["\u0275\u0275elementStart"](22,"strong"),g["\u0275\u0275text"](23,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"mat-error",11),g["\u0275\u0275text"](25,"E-mail is "),g["\u0275\u0275elementStart"](26,"strong"),g["\u0275\u0275text"](27,"invalid"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"mat-form-field"),g["\u0275\u0275element"](29,"input",12),g["\u0275\u0275elementStart"](30,"mat-slide-toggle",13),g["\u0275\u0275listener"]("change",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().togglePass()})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"mat-error",11),g["\u0275\u0275text"](32,"Password is "),g["\u0275\u0275elementStart"](33,"strong"),g["\u0275\u0275text"](34,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"mat-form-field",11),g["\u0275\u0275elementStart"](36,"mat-select",14),g["\u0275\u0275elementStart"](37,"mat-option"),g["\u0275\u0275text"](38,"Please choose"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](39,q,2,2,"mat-option",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"mat-error",11),g["\u0275\u0275text"](41,"User type is "),g["\u0275\u0275elementStart"](42,"strong"),g["\u0275\u0275text"](43,"required"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](44,"input",16),g["\u0275\u0275template"](45,D,9,2,"mat-form-field",1),g["\u0275\u0275template"](46,N,1,1,"mat-spinner",17),g["\u0275\u0275elementStart"](47,"button",18),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=g["\u0275\u0275nextContext"]();return e.router.navigate([e.redirectUrl])})),g["\u0275\u0275elementStart"](48,"mat-icon"),g["\u0275\u0275text"](49,"arrow_back"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"button",19),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().register()})),g["\u0275\u0275text"](51," Save "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](52,"div",20),g["\u0275\u0275template"](53,T,2,2,"dropzone",21),g["\u0275\u0275template"](54,U,3,6,"div",22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var r=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("formGroup",r.registerForm),g["\u0275\u0275advance"](8),g["\u0275\u0275property"]("placeholder","First name")("formControlName","first_name"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",r.firstName.hasError("required")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("placeholder","Last Name")("formControlName","last_name"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",r.lastName.hasError("required")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("value","male"),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("value","female"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("placeholder","Email"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",!r.email.hasError("required")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("hidden",!r.email.hasError("patternInvalid")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("type",r.passHidden?"text":"password")("placeholder","Password"),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("hidden",!r.pass.hasError("required")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("hidden",!0),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngForOf",r.userTypes),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",!r.userType.hasError("required")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngIf",!r.customerRegistration),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",r.common.formProcessing),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",!r.profileImg),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",r.profileImg)}}var L=function(){function e(e,t,n,r,o,a,m,s,l){this._fb=e,this.auth=t,this.common=n,this.router=r,this._partner=o,this.route=a,this.jwtHelper=m,this.buildFormData=s,this.websocketService=l,this.dropzoneFile=[],this.redirectUrl="/",this.spinnerDiameter=d.F,this.dropzoneConfig=P.a,this.passHidden=!1,this.userTypes=d.M,this.regTokenExpired=!1,this.customerRegistration=!1,this.formFields={first_name:["",i.x.required],last_name:["",i.x.required],email:["",i.x.required],gender:["",i.x.required],password:["",i.x.required],folder:["users"],profile_img:[""],company_id:["",i.x.required],user_type:["",i.x.required]}}return e.prototype.ngOnInit=function(){var e=this;this.common.dataLoading=!1,this.customerRegistration||(this.formFields.field_type=["",i.x.required]),this.registerForm=this._fb.group(this.formFields),this._partner.getTypes().subscribe((function(t){e.partnerTypes=t})),this.route.queryParams.subscribe((function(t){var n=t.token;if(n){e.regTokenExpired=e.jwtHelper.isTokenExpired(n);var r=l(t.token);e.registerForm.patchValue(r),e.common.dataLoading=!1,console.log(r)}else e.registerForm.patchValue({user_type:"customer"});e.customerRegistration=!n}))},e.prototype.register=function(){var e=this,t=this.buildFormData.transform(this.registerForm.value,this.dropzoneFile,"profile_img_file");this.common.formProcessing=!0,this.auth.register(t).subscribe((function(t){localStorage.setItem("token",t.hasOwnProperty("token")?t.token:""),e.auth.userData=l(localStorage.getItem("token")),e.websocketService.emit("newUser",e.auth.userData),e.router.navigate([e.auth.checkRoles("admin")?"admin/dashboard/show":e.auth.checkRoles("partner")?"partners/dashboard/show":"employees/dashboard/show"]),e.common.formProcessing=!1}))},e.prototype.getFormData=function(){var e=new FormData;for(var t in this.registerForm.value)e.append(t,this.registerForm.value[t]);var n=this.dropzoneFile;return n&&n.length>0&&n.map((function(t){if(t.name){var n=t.name.split("."),r=n[0]+"."+n[1];e.append("profile_img",r),e.append("profile_img_file",t,r)}})),e},e.prototype.removeImage=function(){},e.prototype.onAddedFile=function(e){this.dropzoneFile.push(e[0]),this.registerForm.patchValue({profile_img:e[0].name}),console.log(e)},e.prototype.togglePass=function(){this.passHidden=!this.passHidden},Object.defineProperty(e.prototype,"firstName",{get:function(){return this.registerForm.get("first_name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastName",{get:function(){return this.registerForm.get("last_name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.registerForm.get("email")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pass",{get:function(){return this.registerForm.get("password")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"profileImg",{get:function(){return!!this.auth.userData&&this.auth.userData.profile_img},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userType",{get:function(){return this.registerForm.get("user_type")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldType",{get:function(){return this.registerForm.get("field_type")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](i.d),g["\u0275\u0275directiveInject"](m.a),g["\u0275\u0275directiveInject"](c.a),g["\u0275\u0275directiveInject"](o.d),g["\u0275\u0275directiveInject"](y.a),g["\u0275\u0275directiveInject"](o.a),g["\u0275\u0275directiveInject"](x.a),g["\u0275\u0275directiveInject"](O.a),g["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register"]],decls:3,vars:2,consts:[[1,"formContainer"],[4,"ngIf"],["method","post","enctype","multipart/form-data","class","registerForm",3,"formGroup",4,"ngIf"],["method","post","enctype","multipart/form-data",1,"registerForm",3,"formGroup"],[1,"terminalTitle"],["translate",""],[1,"userInfo"],["matInput","","required","",3,"placeholder","formControlName"],["name","gender","formControlName","gender"],[3,"value"],["matInput","","formControlName","email","required","",3,"placeholder"],[3,"hidden"],["matInput","","formControlName","password","required","",3,"type","placeholder"],[1,"passToggler",3,"change"],["formControlName","user_type","placeholder","Users group","required",""],[3,"value",4,"ngFor","ngForOf"],["type","hidden","formControlName","company_id"],[3,"diameter",4,"ngIf"],["type","button",1,"backBtn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"userImg"],["id","dropzone","class","profileImgDropzone single",3,"config","message","removedFile","thumbnail",4,"ngIf"],["class","profileImg",3,"background",4,"ngIf"],["formControlName","field_type","placeholder","Business","required",""],[3,"diameter"],["id","dropzone",1,"profileImgDropzone","single",3,"config","message","removedFile","thumbnail"],["dropzone",""],[1,"profileImg"],[1,"fa","fa-times-circle","remove-profile-img",3,"click"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275template"](1,F,2,0,"h2",1),g["\u0275\u0275template"](2,B,55,22,"form",2),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.regTokenExpired&&!t.customerRegistration),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.customerRegistration||!t.regTokenExpired))},directives:[r.l,i.z,i.p,i.h,C.a,u.b,f.b,i.b,i.v,i.o,i.g,M.b,M.a,u.a,E.a,S.a,I.n,r.k,h.b,b.b,P.b],pipes:[w.a],styles:[".formContainer[_ngcontent-%COMP%]{margin-top:50px;width:100%;float:left;display:flex;justify-content:center}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]{max-width:680px;width:100%}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]{width:40%;float:left}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{background-color:#82c644;color:#fff;text-transform:uppercase;font-weight:700;display:flex;justify-content:center;border:none;padding:5px;cursor:pointer;outline:none;margin:auto}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]:disabled{background-color:#c6ccd4!important}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .mat-radio-group[_ngcontent-%COMP%]{margin:20px 0;display:block;text-align:center}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-left:10px}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]{width:50%;float:right}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]   .profileImg[_ngcontent-%COMP%]{position:relative;width:400px;height:400px;background-size:cover!important}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]   .profileImg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:2px;color:#fff;font-size:20px;cursor:pointer}.formContainer[_ngcontent-%COMP%]   .registerForm[_ngcontent-%COMP%]   .passToggler[_ngcontent-%COMP%]{position:absolute;right:0;top:5px;color:grey;font-size:17px;cursor:pointer}"]}),e}(),V=function(){function e(e,t){this.auth=e,this.router=t}return e.prototype.canActivate=function(e){return!this.auth.loggedIn()||(this.router.navigate([this.auth.checkRoles("admin")?"admin/dashboard/show":"/"]),!1)},e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](m.a),g["\u0275\u0275inject"](o.d))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),A=[{path:"login",component:v,canActivate:[V]},{path:"register",component:L,canActivate:[V]}],R=function(){function e(){}return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.e.forChild(A)],o.e]}),e}(),G=n("PCNd"),H=function(){function e(){}return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,R,G.a]]}),e}()},cLpZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));var r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=/^(\+|-)?(?:90(?:(?:\.0{1,6})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,6})?))$/,i=/^(\+|-)?(?:180(?:(?:\.0{1,6})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,6})?))$/,a=/^[0-9]*$/}}]);