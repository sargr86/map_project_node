(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{NyQy:function(t,e,n){"use strict";n.r(e),n.d(e,"momentAdapterFactory",(function(){return _e})),n.d(e,"ToursModule",(function(){return ve}));var o=n("Valr"),r=n("DUip"),i=n("9xOu"),a=n("So0L"),c=n("7dP1"),l=n("oUVn"),s=n("TYT/"),p=n("Ukt7"),d=function(){function t(t,e,n){this._tours=t,this.auth=e,this.common=n,this.displayedColumns=i.P,this.spinnerDiameter=i.J}return t.prototype.ngOnInit=function(){this.tours=this._tours.getAllTours(),this.common.dataLoading=!1},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](l.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-show-tours"]],decls:5,vars:3,consts:[[1,"formTitle"],[1,"fa","fa-directions","title-sign"],[3,"dataObs","cols","item"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"h4",0),s["\u0275\u0275element"](1,"i",1),s["\u0275\u0275elementStart"](2,"span"),s["\u0275\u0275text"](3,"Tours"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"app-mat-table",2)),2&t&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("dataObs",e.tours)("cols",e.displayedColumns)("item","tour"))},directives:[p.a],styles:[""]}),t}(),m=function(){function t(t){this._tours=t}return t.prototype.resolve=function(t){return this._tours.getOneTour({id:t.params.id})},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275inject"](a.a))},t.\u0275prov=s["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),u=function(){function t(t,e){this._tours=t,this.auth=e,this.displayedColumns=["name","actions"]}return t.prototype.ngOnInit=function(){this.getTourTypes()},t.prototype.getTourTypes=function(){this.tourTypes=this._tours.getAllTourTypes()},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](c.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-show-tour-types"]],decls:4,vars:3,consts:[[1,"formTitle"],[3,"dataObs","cols","item"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"h4",0),s["\u0275\u0275elementStart"](1,"span"),s["\u0275\u0275text"](2,"Tour types"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"app-mat-table",1)),2&t&&(s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("dataObs",e.tourTypes)("cols",e.displayedColumns)("item","tour_type"))},directives:[p.a],styles:[""]}),t}(),g=n("QJY3"),f=n("qT8p"),h=n("uad8"),C=n("eHTH"),_=n("cSbt"),v=n("GsDI"),O=n("p+mS");function P(t,e){if(1&t&&s["\u0275\u0275element"](0,"mat-spinner",3),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}function M(t,e){1&t&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mat-icon",11),s["\u0275\u0275text"](2,"add_box"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"span"),s["\u0275\u0275text"](4,"Add a new tour type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]())}function x(t,e){1&t&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mat-icon"),s["\u0275\u0275text"](2,"edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"span"),s["\u0275\u0275text"](4,"Edit tour type details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]())}function y(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Tour type name is "),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"required"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function w(t,e){if(1&t&&s["\u0275\u0275element"](0,"mat-spinner",3),2&t){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}function b(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",4),s["\u0275\u0275elementStart"](1,"h4",5),s["\u0275\u0275template"](2,M,5,0,"ng-container",6),s["\u0275\u0275template"](3,x,5,0,"ng-container",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"mat-form-field"),s["\u0275\u0275element"](5,"input",7),s["\u0275\u0275template"](6,y,4,0,"mat-error",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",8),s["\u0275\u0275elementStart"](8,"button",9),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"]();return t.router.navigate([t.redirectUrl])})),s["\u0275\u0275elementStart"](9,"mat-icon"),s["\u0275\u0275text"](10,"arrow_back"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"button",10),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveToursType()})),s["\u0275\u0275text"](12,"Save"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,w,1,1,"mat-spinner",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",o.saveTourTypeForm),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!o.editCase),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",o.editCase),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",o.nameCtrl.hasError("required")),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",o.common.formProcessing)}}var S=function(){function t(t,e,n,o,r,a,c){this._fb=t,this.route=e,this.router=n,this._tours=o,this.common=r,this.toastr=a,this.auth=c,this.editCase=!1,this.redirectUrl=this.auth.checkRoles("admin")?"admin/tours/show-types":"partners/tours/show-types",this.spinnerDiameter=i.J}return t.prototype.ngOnInit=function(){var t=this;this.saveTourTypeForm=this._fb.group({name:["",g.x.required],id:[]});var e=this.route.snapshot.paramMap.get("id");e&&(this.common.dataLoading=!0,this._tours.getOneTourType({id:e}).subscribe((function(e){e&&(t.saveTourTypeForm.patchValue(e),t.editCase=!0,t.common.dataLoading=!1)})))},Object.defineProperty(t.prototype,"nameCtrl",{get:function(){return this.saveTourTypeForm.get("name")},enumerable:!0,configurable:!0}),t.prototype.saveToursType=function(){var t=this;this.common.formProcessing=!0,this.editCase?this._tours.updateToursType(this.saveTourTypeForm.value).subscribe((function(e){t.common.formProcessing=!1,t.router.navigate([t.redirectUrl]),t.toastr.success("The tour type info has been updated successfully","Updated!")})):this._tours.insertToursType(this.saveTourTypeForm.value).subscribe((function(e){t.common.formProcessing=!1,t.router.navigate([t.redirectUrl]),t.toastr.success("The tour type info has been added successfully","Added!")}))},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](g.d),s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](r.d),s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](f.b),s["\u0275\u0275directiveInject"](c.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-save-tour-type"]],decls:3,vars:2,consts:[[1,"formContainer"],[3,"diameter",4,"ngIf"],["class","tourTypeForm",3,"formGroup",4,"ngIf"],[3,"diameter"],[1,"tourTypeForm",3,"formGroup"],[1,"formTitle"],[4,"ngIf"],["matInput","","formControlName","name","placeholder","Tour type","required",""],[1,"actions"],["type","button",1,"backBtn",3,"click"],["color","primary","mat-raised-button","",1,"saveBtn",3,"click"],[1,"title_sign"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275template"](1,P,1,1,"mat-spinner",1),s["\u0275\u0275template"](2,b,14,5,"form",2),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.common.dataLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.common.dataLoading))},directives:[o.l,h.b,g.z,g.p,g.h,C.b,_.b,g.b,g.o,g.g,g.v,v.a,O.b,C.a],styles:[".formContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}.formContainer[_ngcontent-%COMP%]   .tourTypeForm[_ngcontent-%COMP%]{max-width:600px;width:100%;margin-left:270px}.formContainer[_ngcontent-%COMP%]   .tourTypeForm[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:20px}.formContainer[_ngcontent-%COMP%]   .tourTypeForm[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .saveBtn[_ngcontent-%COMP%]{float:left}@media (max-width:767px){.formContainer[_ngcontent-%COMP%]   .tourTypeForm[_ngcontent-%COMP%]{width:100%;display:block;padding-left:20px;padding-right:20px;margin:0}}"]}),t}(),E=n("xXxk"),k=n("GJOa"),T=n("wDcp"),I=n("urBs"),D=n("wd/R"),F=n.n(D),j=n("p0Sj"),V=n("67Y/"),z=n("/+Ia"),A=n("iYur"),q=n("tNiZ"),L=n("/bLD"),N=n("MqYC");function Y(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"mat-option",26),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275property"]("value",n.name),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function R(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"option",26),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275property"]("value",n.id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var B=function(){function t(t,e,n,o,r){this.fb=t,this.toursService=e,this.router=n,this.filterLocations=o,this.common=r,this.tourControl=new g.e,this.adultsCount=2,this.childrenCount=2,this.tours=[],this.searchEvent=new s.EventEmitter,this.previousDatesFilter=function(t){return F()(t).isSameOrAfter(F()(),"day")}}return t.prototype.ngOnInit=function(){var t=this;this.common.dataLoading=!1,this.initForm(),this.patchForm(),this.getTourTypes(),this.getAllTours(),this.filteredTours=this.tourControl.valueChanges.pipe(Object(j.a)(""),Object(V.a)((function(t){return"string"==typeof t?t:t.name})),Object(V.a)((function(e){return t._filter(e)})))},t.prototype.initForm=function(){this.toursForm=this.fb.group({name:["",[g.x.required]],adults:[this.adultsCount,[g.x.required]],children:[this.childrenCount,[g.x.required]],rooms:["",[g.x.required]],date:["",[g.x.required]],tours_type_id:["",[g.x.required]]})},t.prototype.patchForm=function(){var t=JSON.parse(localStorage.getItem("toursSearch"));t&&(this.adultsCount=t.adults,this.childrenCount=t.children,this.toursForm.patchValue(t),this.tourControl.patchValue(t.name))},t.prototype.dateChanged=function(t){this.toursForm.patchValue({date:F()(t.value).format("YYYY-MM-DD")})},t.prototype.adultsCountChanged=function(t){this.toursForm.patchValue({adults:t})},t.prototype.childrenCountChanged=function(t){this.toursForm.patchValue({children:t})},t.prototype.locationChanged=function(t){console.log(t),this.toursForm.patchValue({name:t})},t.prototype.focusTourInput=function(t){t._onChange(""),t.openPanel()},t.prototype.clearSelection=function(){this.tourControl.patchValue(""),this.getTourTypes()},t.prototype.getTourTypes=function(){var t=this;this.toursService.getAllTourTypes().subscribe((function(e){t.tourTypes=e}))},t.prototype.getAllTours=function(){var t=this;this.toursService.getAllTours().subscribe((function(e){t.tours=e}))},t.prototype._filter=function(t){var e,n=null===(e=t)||void 0===e?void 0:e.toLowerCase();return this.tours.filter((function(t){return t.name.toLowerCase().includes(n)}))},t.prototype.search=function(){localStorage.setItem("toursSearch",JSON.stringify(this.toursForm.value)),this.router.url.includes("list")?this.searchEvent.emit(this.toursForm.value):this.router.navigate(["tours/list"]),console.log(this.toursForm.value)},t.prototype.tourTypesChanged=function(t){console.log(t.target.value),this.toursForm.patchValue({tour_types_id:t})},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](g.d),s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](r.d),s["\u0275\u0275directiveInject"](z.a),s["\u0275\u0275directiveInject"](l.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-search-tours-form"]],outputs:{searchEvent:"search"},decls:44,vars:18,consts:[[3,"formGroup"],["id","address"],[1,"location-icon"],["type","text","placeholder","Where are you going?",3,"formControl","matAutocomplete","change","focus","click"],["locationInput","","trigger","matAutocompleteTrigger"],[1,"clear-selection",3,"click"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["id","dates"],["id","date"],["placeholder","Choose date","formControlName","date",3,"matDatepickerFilter","matDatepicker","dateChange"],["matSuffix","",1,"datepicker-toggle-icon",3,"for"],["startView","year"],["checkInPicker",""],["id","counts"],["id","adults"],["type","hidden","formControlName","adults",1,"hidden"],[1,"picker"],[1,"guests-count",3,"value","size","buttonsOrientation","placeholder","valueChange"],["id","children"],["type","hidden","formControlName","children",1,"hidden"],["id","tour-types"],[3,"change"],["type","button",1,"search",3,"click"],[1,"fa","fa-search"],[3,"value"]],template:function(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"mat-icon",2),s["\u0275\u0275text"](3,"place"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"input",3,4),s["\u0275\u0275listener"]("change",(function(t){return e.locationChanged(t)}))("focus",(function(){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275reference"](6);return e.focusTourInput(t)}))("click",(function(){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275reference"](6);return e.focusTourInput(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"mat-icon",5),s["\u0275\u0275listener"]("click",(function(){return e.clearSelection()})),s["\u0275\u0275text"](8,"close"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"mat-autocomplete",6,7),s["\u0275\u0275listener"]("optionSelected",(function(t){return e.locationChanged(t.option.value)})),s["\u0275\u0275template"](11,Y,2,2,"mat-option",8),s["\u0275\u0275pipe"](12,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",9),s["\u0275\u0275elementStart"](14,"div",10),s["\u0275\u0275elementStart"](15,"input",11),s["\u0275\u0275listener"]("dateChange",(function(t){return e.dateChanged(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](16,"mat-datepicker-toggle",12),s["\u0275\u0275element"](17,"mat-datepicker",13,14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",15),s["\u0275\u0275elementStart"](20,"div",16),s["\u0275\u0275elementStart"](21,"mat-icon"),s["\u0275\u0275text"](22,"person"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"span"),s["\u0275\u0275text"](24,"Adults"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](25,"input",17),s["\u0275\u0275elementStart"](26,"div",18),s["\u0275\u0275elementStart"](27,"ng-number-picker",19),s["\u0275\u0275listener"]("valueChange",(function(t){return e.adultsCount=t}))("valueChange",(function(t){return e.adultsCountChanged(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",20),s["\u0275\u0275elementStart"](29,"mat-icon"),s["\u0275\u0275text"](30,"person"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"span"),s["\u0275\u0275text"](32,"Children"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"input",21),s["\u0275\u0275elementStart"](34,"div",18),s["\u0275\u0275elementStart"](35,"ng-number-picker",19),s["\u0275\u0275listener"]("valueChange",(function(t){return e.childrenCount=t}))("valueChange",(function(t){return e.childrenCountChanged(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"div",22),s["\u0275\u0275elementStart"](37,"select",23),s["\u0275\u0275listener"]("change",(function(t){return e.tourTypesChanged(t)})),s["\u0275\u0275template"](38,R,2,2,"option",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"div"),s["\u0275\u0275elementStart"](40,"button",24),s["\u0275\u0275listener"]("click",(function(){return e.search()})),s["\u0275\u0275element"](41,"i",25),s["\u0275\u0275elementStart"](42,"span"),s["\u0275\u0275text"](43,"Search"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275reference"](10),r=s["\u0275\u0275reference"](18);s["\u0275\u0275property"]("formGroup",e.toursForm),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("formControl",e.tourControl)("matAutocomplete",o),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind1"](12,16,e.filteredTours)),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("matDatepickerFilter",e.previousDatesFilter)("matDatepicker",r),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("for",r),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("value",e.adultsCount)("size","small")("buttonsOrientation","v")("placeholder","Guests"),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("value",e.childrenCount)("size","small")("buttonsOrientation","v")("placeholder","Guests"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",e.tourTypes)}},directives:[g.z,g.p,g.h,v.a,g.b,A.c,g.o,g.f,A.a,o.k,q.b,g.g,q.d,C.g,q.a,L.a,N.n,g.s,g.y],pipes:[o.b],styles:["form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;border:none;box-shadow:0 0 6px rgba(0,0,0,.07)}form[_ngcontent-%COMP%]   .clear-selection[_ngcontent-%COMP%]{position:absolute;right:10px;top:16px;width:24px;height:24px;cursor:pointer}form[_ngcontent-%COMP%]   #address[_ngcontent-%COMP%]{position:relative;width:432px;height:51px}form[_ngcontent-%COMP%]   #address[_ngcontent-%COMP%]   .location-icon[_ngcontent-%COMP%]{color:#707070;position:absolute;top:16px;left:17px;font-size:22px}form[_ngcontent-%COMP%]   #address[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:52px}form[_ngcontent-%COMP%]   #tour-types[_ngcontent-%COMP%]{background-color:#fff;margin-top:10px;height:51px}form[_ngcontent-%COMP%]   #tour-types[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:100%;border:none;width:100%;padding-left:20px}form[_ngcontent-%COMP%]   #dates[_ngcontent-%COMP%]{display:flex;margin-top:16px}form[_ngcontent-%COMP%]   #dates[_ngcontent-%COMP%]   #date[_ngcontent-%COMP%]{position:relative;width:100%;height:51px}form[_ngcontent-%COMP%]   #dates[_ngcontent-%COMP%]   #date[_ngcontent-%COMP%]   .datepicker-toggle-icon[_ngcontent-%COMP%]{position:absolute;top:5px;left:11px}form[_ngcontent-%COMP%]   #dates[_ngcontent-%COMP%]   #date[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:52px}form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]{display:flex;margin-top:16px}form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#d2d2d2}form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   #adults[_ngcontent-%COMP%]{margin-right:16px}form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   #adults[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   #children[_ngcontent-%COMP%]{flex:1;background-color:#fff;display:flex;align-items:center;box-shadow:0 0 6px rgba(0,0,0,.07);height:51px}form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   #adults[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   #children[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:19px}form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   #adults[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   #counts[_ngcontent-%COMP%]   #children[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:432px;height:51px;margin-top:15px;border:none;background-color:#084f93;color:#fff;font:normal normal 16px Roboto}form[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}"]}),t}(),G=n("Z0wd"),U=function(){function t(t,e,n,o){this.router=t,this.auth=e,this._tours=n,this.subject=o,this.countryRestrictedPlaces=E.a,this.personsCount=2,this.selectedSection="Tours",this.toggle=new s.EventEmitter,this.responsiveMode=k.a.check()}return t.prototype.ngOnInit=function(){var t=this;this._tours.getAllTourTypes().subscribe((function(e){t.tourTypes=e}))},t.prototype.getStartDate=function(){},t.prototype.dateChanged=function(){},t.prototype.personsCountChanged=function(t){},t.prototype.toggleSidebar=function(){this.subject.setSidebarAction("toggle"),this.toggle.emit()},t.prototype.navigateToDashboard=function(){var t=this.auth.checkRoles("admin")?"admin":this.auth.checkRoles("partner")?"partners":"employees";this.router.navigate([t+"/dashboard/show"])},t.prototype.logout=function(){localStorage.removeItem("token"),this.router.navigate(["/"])},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](r.d),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](T.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-tours-header"]],outputs:{toggle:"toggle"},decls:28,vars:1,consts:[[3,"section"],[1,"order-form-and-texts"],["id","order-form-container"],["id","texts-container"],["_ngcontent-hgm-c419","",1,"material-icons"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"header"),s["\u0275\u0275element"](1,"app-header-top",0),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"div",2),s["\u0275\u0275element"](4,"app-search-tours-form"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",3),s["\u0275\u0275elementStart"](6,"h1"),s["\u0275\u0275text"](7,"Explore Cork city arounds"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"p"),s["\u0275\u0275text"](9,"Take the hassle out of arriving in Cork or departing with a private water taxi to see the sights."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"ul"),s["\u0275\u0275elementStart"](11,"li"),s["\u0275\u0275elementStart"](12,"span",4),s["\u0275\u0275text"](13," check_circle "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](14,"Instant confirmation"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"li"),s["\u0275\u0275elementStart"](16,"span",4),s["\u0275\u0275text"](17," check_circle "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](18,"Mobile ticketing"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"li"),s["\u0275\u0275elementStart"](20,"span",4),s["\u0275\u0275text"](21," check_circle "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](22,"Free cancellation"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"li"),s["\u0275\u0275elementStart"](24,"span",4),s["\u0275\u0275text"](25," check_circle "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](26,"Duration: 30 minutes - 1 day"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](27,"app-header-bottom"),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("section","Tours"))},directives:[I.a,B,G.a],styles:["header[_ngcontent-%COMP%]{background-image:url(luca-bravo-O453M2Liufs-unsplash@2x.f042c490cc24a48242e4.png)}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]{width:100%;max-width:1360px;margin:auto;display:flex;align-items:center}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #order-form-container[_ngcontent-%COMP%]{width:432px}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #texts-container[_ngcontent-%COMP%]{margin-left:150px}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #texts-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #texts-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;text-transform:uppercase;margin-bottom:16px}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #texts-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #texts-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:16px}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #texts-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px;display:flex;align-items:center}header[_ngcontent-%COMP%]   .order-form-and-texts[_ngcontent-%COMP%]   #texts-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;margin-right:16px;color:#7bc447}@media screen and (max-width:1230px){header[_ngcontent-%COMP%]:not(.timepicker__header){min-height:98vh}.header_top[_ngcontent-%COMP%]{max-width:unset}.header_top_logo[_ngcontent-%COMP%]{margin-right:50px;width:60px}.logo[_ngcontent-c9][_ngcontent-%COMP%]{width:66px;height:66px}.header_top_left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:30px;font-size:17px}.header_top_right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px;font-size:17px}.header_main[_ngcontent-%COMP%]{width:70%!important;max-width:unset}.header_main_box[_ngcontent-%COMP%]{height:80px;padding:0 15px}.header_main_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;font-size:16px}.header_main_box[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{width:30%;margin:0}.header_main_box[_ngcontent-%COMP%]   .checkIn[_ngcontent-%COMP%]{width:30%;margin:0 5px;min-width:120px!important}.Check_out_inp[_ngcontent-%COMP%]{width:100%!important}.checkInIcon[_ngcontent-%COMP%]{top:0!important;bottom:0!important;margin:auto;font-size:22px!important}.header_main_box[_ngcontent-%COMP%]   .guests[_ngcontent-%COMP%]{width:30%;margin:0 5px}.header_main_box[_ngcontent-%COMP%]   .guests[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:10px!important}.header_main_box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:40px;font-size:16px;padding-left:28px}.header_bottom[_ngcontent-%COMP%]{width:95%;max-width:unset;margin:0 auto 30px;flex-direction:column;align-items:center}.header_bottom_box[_ngcontent-%COMP%]{margin:8px 0}.header_bottom_box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:15px;font-size:16px}.home_1[_ngcontent-%COMP%]{margin:60px auto 0;width:95%}.home_1_top[_ngcontent-%COMP%]{margin-bottom:20px}.home_1_top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin-bottom:7px}.home_1_top_line[_ngcontent-%COMP%]{width:50px;height:2px}.home_1_block[_ngcontent-%COMP%]{width:100%;margin-bottom:50px;flex-wrap:wrap}.home_1_box[_ngcontent-%COMP%]{width:32%;min-width:250px;margin:10px 5px}.home_1_box_img_opacity[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:64px}.home_1_box_img_opacity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-left:10px}.home_1_box_bottom[_ngcontent-%COMP%]{padding:10px}.home_1_box_tittle[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0 0 25px}.home_1_box_bottom_price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.home_1_box_bottom_price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:25px}.home_1_box_bottom_price[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:120px;height:40px;font-size:16px}.nav_burger[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:860px){.activityTypes[_ngcontent-%COMP%], .checkIn[_ngcontent-%COMP%], .checkOut[_ngcontent-%COMP%], .guests[_ngcontent-%COMP%], .location[_ngcontent-%COMP%], .searchBtn[_ngcontent-%COMP%]{width:100%!important;margin:0!important}.checkInIcon[_ngcontent-%COMP%]{font-size:25px!important}}@media screen and (max-width:960px){.activityTypes[_ngcontent-%COMP%], .checkIn[_ngcontent-%COMP%], .checkOut[_ngcontent-%COMP%], .guests[_ngcontent-%COMP%], .location[_ngcontent-%COMP%]{width:100%!important;margin:0!important}.checkInIcon[_ngcontent-%COMP%]{top:0!important;bottom:0!important;margin:auto;font-size:26px!important}.header_top[_ngcontent-%COMP%]{align-items:center}.header_top_left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none}.nav_burger[_ngcontent-%COMP%]{display:block}.nav_burger[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}.header_top_left[_ngcontent-%COMP%]{width:50%;justify-content:space-between}.header_main[_ngcontent-%COMP%]{display:flex;justify-content:center}.header_main_box[_ngcontent-%COMP%]{height:auto!important;width:auto;flex-direction:column;padding:15px}.header_main_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}.header_main_box[_ngcontent-%COMP%]   .checkOut[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px 0}.header_main_box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px!important;margin:5px 0}.searchBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.checkIn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:-3px}.tourTypes[_ngcontent-%COMP%]{width:100%!important}.header_bottom[_ngcontent-%COMP%], .opacity_bg[_ngcontent-%COMP%]{display:block!important}.sidebarToggler[_ngcontent-%COMP%]{margin-top:-4px}}@media screen and (max-width:550px){.home_1_block[_ngcontent-%COMP%]{justify-content:center}.header_top_right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.home_1_box[_ngcontent-%COMP%]{width:300px}.logo[_ngcontent-%COMP%]{width:50px!important;height:50px!important}}@media screen and (max-width:400px){.header_top_left[_ngcontent-%COMP%]{width:20%;justify-content:space-between}}"]}),t}(),W=n("M+cQ");function J(t,e){if(1&t&&s["\u0275\u0275element"](0,"app-carousel-holder",5),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("items",n.popularTours)("folder",n.toursFolder)("category","tours")}}function $(t,e){if(1&t&&s["\u0275\u0275element"](0,"app-carousel-holder",5),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("items",n.todaysTours)("folder",n.toursFolder)("category","tours")}}var Z=function(){function t(t,e,n){this.router=t,this.common=e,this.toursService=n,this.toursFolder=i.O}return t.prototype.ngOnInit=function(){this.common.dataLoading=!1,this.getPopularTours(),this.getTodaysTours()},t.prototype.getTourTypes=function(){var t=this;this.toursService.getAllTourTypes().subscribe((function(e){t.tourTypes=e}))},t.prototype.getPopularTours=function(){var t=this;this.toursService.getDailies({calendar:!1}).subscribe((function(e){t.popularTours=e}))},t.prototype.getTodaysTours=function(){var t=this;this.toursService.getDailies({calendar:!1,today:!0}).subscribe((function(e){t.todaysTours=e}))},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](r.d),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](a.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-tours-home"]],decls:11,vars:3,consts:[[3,"hidden"],[1,"home_1"],[1,"home_1_size"],[1,"home_1_top"],[3,"items","folder","category",4,"ngIf"],[3,"items","folder","category"]],template:function(t,e){1&t&&(s["\u0275\u0275element"](0,"app-tours-header",0),s["\u0275\u0275elementStart"](1,"section",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275elementStart"](4,"p"),s["\u0275\u0275text"](5,"Most Popular Tours"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,J,1,3,"app-carousel-holder",4),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"p"),s["\u0275\u0275text"](9,"Today's Top Tours"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](10,$,1,3,"app-carousel-holder",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275property"]("hidden","/tours"!==e.router.url),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.popularTours),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",e.todaysTours))},directives:[U,o.l,W.a],styles:[".active_page[_ngcontent-%COMP%]{width:100%;padding:50px 0}.active_page_size[_ngcontent-%COMP%]{width:1200px;margin:0 auto}.home_1[_ngcontent-%COMP%]{margin:64px auto 0;width:100%;max-width:1360px}.home_1_top[_ngcontent-%COMP%]{margin:64px 0 72px}.home_1_top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:#414141;margin-bottom:7px}.home_1_top_line[_ngcontent-%COMP%]{width:60px;height:2px;background-color:#00253c}.home_1_block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:90px}.home_1_box[_ngcontent-%COMP%]{width:32%;border:1px solid #dcdcdc}.home_1_box_img_opacity[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:64px;opacity:.65;background-image:linear-gradient(90deg,#122223,#08c1c6);display:flex;align-items:center}.home_1_box_img_opacity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;margin-left:15px;color:#fff}.home_1_box_img[_ngcontent-%COMP%], .home_1_box_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}.home_1_box_img[_ngcontent-%COMP%]{position:relative}.home_1_box_bottom[_ngcontent-%COMP%]{padding:14px}.home_1_box_tittle[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00253c;margin:0 0 29px}.home_1_box_bottom_price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.home_1_box_bottom_price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:#0b9194}.home_1_box_bottom_price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:34px;color:#0b9194}.home_1_box_bottom_price[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:144px;height:48px;border-radius:24px;box-shadow:0 3px 6px 0 rgba(0,0,0,.16);background-image:linear-gradient(90deg,#0b9194,#08c1c6);color:#fff;font-size:16px}.nav_burger[_ngcontent-%COMP%]{display:none}"]}),t}(),H=n("dpbs"),Q=n("o5H1"),X=n("oTgu");function K(t,e){if(1&t&&s["\u0275\u0275element"](0,"img",19),2&t){var n=s["\u0275\u0275nextContext"]().$implicit,o=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("src",o.getPath(n.tour,o.toursFolder),s["\u0275\u0275sanitizeUrl"])}}function tt(t,e){1&t&&s["\u0275\u0275element"](0,"div",20)}function et(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"li",9),s["\u0275\u0275template"](1,K,1,1,"img",10),s["\u0275\u0275template"](2,tt,1,0,"div",11),s["\u0275\u0275elementStart"](3,"div",12),s["\u0275\u0275elementStart"](4,"div",13),s["\u0275\u0275elementStart"](5,"p",14),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"p",15),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",16),s["\u0275\u0275elementStart"](10,"p",17),s["\u0275\u0275text"](11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"button",18),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var t=e.$implicit;return s["\u0275\u0275nextContext"]().router.navigate(["tours/single/"+t.tour.id])})),s["\u0275\u0275text"](13,"View more"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",o.tour.img),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!o.tour.img),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](o.tour.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](o.tour.company.name),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("\u20ac",o.price,"")}}var nt=function(){function t(t,e){this.toursService=t,this.router=e,this.tours=[],this.toursFolder=i.O,this.selectedOrder="asc"}return t.prototype.ngOnInit=function(){this.searchInDailyTours()},t.prototype.searchInDailyTours=function(){var t=this;this.toursSearch=JSON.parse(localStorage.getItem("toursSearch")),this.toursSearch&&this.toursService.searchInDailyTours({search:this.toursSearch.name,date:this.toursSearch.date}).subscribe((function(e){t.tours=e}))},t.prototype.getPath=function(t,e){var n=t.name.replace(/ /g,"_").replace(/&/g,"");return e+"/"+decodeURIComponent(n)+"/"+t.img},t.prototype.sortByPrice=function(t){var e=this;this.selectedOrder=t,this.toursService.searchInDailyTours({search:this.toursSearch.name,date:this.toursSearch.date,order:t}).subscribe((function(t){e.tours=t}))},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](r.d))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-tours-list"]],decls:19,vars:6,consts:[[3,"section"],[1,"tours","tours-page"],[1,"page-container"],["id","left-side"],[3,"search"],["id","right-side"],[1,"sort-price"],[3,"click"],["class","search-item",4,"ngFor","ngForOf"],[1,"search-item"],["alt","",3,"src",4,"ngIf"],["class","no_image",4,"ngIf"],[1,"details"],[1,"left"],[1,"name"],[1,"address"],[1,"right"],[1,"price"],[1,"view-more",3,"click"],["alt","",3,"src"],[1,"no_image"]],template:function(t,e){1&t&&(s["\u0275\u0275element"](0,"app-header-top",0),s["\u0275\u0275elementStart"](1,"section",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275elementStart"](4,"app-search-tours-form",4),s["\u0275\u0275listener"]("search",(function(){return e.searchInDailyTours()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",5),s["\u0275\u0275elementStart"](6,"div",6),s["\u0275\u0275elementStart"](7,"h2"),s["\u0275\u0275text"](8,"Sort by Price"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"ul"),s["\u0275\u0275elementStart"](10,"li",7),s["\u0275\u0275listener"]("click",(function(){return e.sortByPrice("asc")})),s["\u0275\u0275text"](11,"Low to high"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"li",7),s["\u0275\u0275listener"]("click",(function(){return e.sortByPrice("desc")})),s["\u0275\u0275text"](13,"High to low"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"li"),s["\u0275\u0275text"](15,"Choose on map"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"ul"),s["\u0275\u0275template"](17,et,14,5,"li",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](18,"app-map-controls"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275property"]("section","Food/Drink"),s["\u0275\u0275advance"](10),s["\u0275\u0275classProp"]("active","asc"===e.selectedOrder),s["\u0275\u0275advance"](2),s["\u0275\u0275classProp"]("active","desc"===e.selectedOrder),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngForOf",e.tours))},directives:[I.a,B,o.k,X.a,o.l],styles:[".page-container[_ngcontent-%COMP%]{display:flex;max-width:1360px;width:100%;margin:100px auto 0}.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:432px}.page-container[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:64%;padding-left:32px}.tours[_ngcontent-%COMP%]{width:1360px;margin:100px auto 0;display:flex}.tours.tours-page[_ngcontent-%COMP%]{display:block}.tours.tours-page[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:40px;color:#414141;font-weight:700}.tours.tours-page[_ngcontent-%COMP%]   .accommodation-inner[_ngcontent-%COMP%]{margin-top:24px;display:flex}.tours[_ngcontent-%COMP%]   #left-side[_ngcontent-%COMP%]{width:432px}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]{width:100%}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   .sort-price[_ngcontent-%COMP%]{margin-left:32px;margin-bottom:48px}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   .sort-price[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#414141}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   .sort-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:16px 0 0}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   .sort-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid #184f91;font-size:16px;border-radius:5px;color:#949494;padding:12px 24px;margin-right:32px;transition:all .3s ease;cursor:pointer}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   .sort-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   .sort-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#184f91;color:#fff}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:32px;display:flex;flex-wrap:wrap}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]{flex:0 0 calc(50% - 16px);height:450px;box-shadow:0 0 6px rgba(0,0,0,.16);border-radius:5px;margin-right:32px;margin-bottom:32px}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]:nth-child(2n+2){margin-right:0}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:244px;-o-object-fit:cover;object-fit:cover}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-top:24px;margin-left:39px;font:normal normal 20px Roboto-Bold}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{margin-top:8px;margin-left:39px;font:normal normal 16px Roboto-Regular}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:80%}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:20%;text-align:right}.tours[_ngcontent-%COMP%]   #right-side[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;color:#7bc447;font-family:Roboto-Bold;margin-top:24px;margin-right:16px}"]}),t}(),ot=function(){function t(t){this.common=t,this.common.dataLoading=!1}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](l.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-tours-single"]],decls:2,vars:0,template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"tours-single works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),t}(),rt=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-show-orders"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t}(),it=n("mrSG"),at=n("RjhG"),ct=n("K9Ia"),lt=n("ea4N"),st=n("Wxx3"),pt=n("RkrM");function dt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"h2"),s["\u0275\u0275text"](1,"Add a tour for a date"),s["\u0275\u0275elementEnd"]())}function mt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"h2"),s["\u0275\u0275text"](1,"Edit tour details"),s["\u0275\u0275elementEnd"]())}function ut(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"span",30),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"span"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=e.index,r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](o===r.tour.tour_locations.length-1?"":"\u2192")}}function gt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"option",35),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275property"]("value",n.id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.name)}}function ft(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Tour name is required "),s["\u0275\u0275elementEnd"]())}function ht(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",9),s["\u0275\u0275elementStart"](1,"div",31),s["\u0275\u0275elementStart"](2,"select",32),s["\u0275\u0275listener"]("change",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().tourChanged(t)})),s["\u0275\u0275elementStart"](3,"option",33),s["\u0275\u0275text"](4,"Select tour"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,gt,2,2,"option",34),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,ft,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",o.toursList),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",o.isSubmitted&&o.dailyTourForm.get("tour_id").hasError("required"))}}function Ct(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Start date is required "),s["\u0275\u0275elementEnd"]())}function _t(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," End date is required "),s["\u0275\u0275elementEnd"]())}function vt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Start time is required "),s["\u0275\u0275elementEnd"]())}function Ot(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," End time is required "),s["\u0275\u0275elementEnd"]())}function Pt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Price is required "),s["\u0275\u0275elementEnd"]())}function Mt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," People count is required "),s["\u0275\u0275elementEnd"]())}function xt(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",36),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().remove()})),s["\u0275\u0275text"](1,"Remove"),s["\u0275\u0275elementEnd"]()}}var yt=function(){function t(t,e,n,o,r){this.fb=t,this.toursService=e,this.dialog=n,this.matDialog=o,this.data=r,this.isSubmitted=!1,this.timepickerTheme=i.M,this.peopleCount=2,this.editCase=!1,this.previousDatesFilter=function(t){return F()(t).isSameOrAfter(F()(),"day")},this.tour=r.tour,this.editCase=!!this.tour}return t.prototype.ngOnInit=function(){this.initForm(),this.getToursList(),this.editCase&&(this.peopleCount=this.tour.meta.max_participants_count,this.dailyTourForm.patchValue(Object(it.__assign)(Object(it.__assign)({},this.tour.meta),{start_date:this.tour.start,end_date:this.tour.end})))},t.prototype.initForm=function(){this.dailyTourForm=this.fb.group({id:[""],tour_id:["",[g.x.required]],company_id:[""],start_date:["",[g.x.required]],start_time:["",[g.x.required]],end_date:["",[g.x.required]],end_time:["",[g.x.required]],max_participants_count:["",[g.x.required]],price:["",[g.x.required]]})},t.prototype.getToursList=function(){var t=this;this.toursService.getAllTours().subscribe((function(e){t.toursList=e}))},t.prototype.tourChanged=function(t){var e=this;this.toursService.getOneTour({id:t.target.value}).subscribe((function(t){var n,o;e.tour=(null===(o=null===(n=t)||void 0===n?void 0:n.tours_dailies)||void 0===o?void 0:o[0])||[],e.tour.start_date=F()().format("YYYY-MM-DD"),e.tour.end_date=F()().add(1,"days").format("YYYY-MM-DD"),e.dailyTourForm.patchValue(e.tour),e.peopleCount=e.tour.max_participants_count}))},t.prototype.dateChanged=function(t){},t.prototype.peopleCountChanged=function(t){this.dailyTourForm.patchValue({max_participants_count:t}),console.log(t)},t.prototype.save=function(){var t=this;this.isSubmitted=!0,console.log(this.dailyTourForm.get("tour_id").hasError("required")),console.log(this.dailyTourForm.value),this.dailyTourForm.valid&&(this.editCase?this.toursService.updateDailyTour(this.dailyTourForm.value).subscribe((function(e){t.dialog.close()})):this.toursService.addDailyTour(this.dailyTourForm.value).subscribe((function(e){t.dialog.close()})))},t.prototype.remove=function(){var t=this;this.matDialog.open(st.a).afterClosed().subscribe((function(e){var n,o;e&&t.toursService.removeDailyTour({id:null===(o=null===(n=t.tour)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.id}).subscribe((function(e){t.dialog.close()}))}))},Object.defineProperty(t.prototype,"tourName",{get:function(){return this.tourName.get("tour_id")},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](g.d),s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](lt.f),s["\u0275\u0275directiveInject"](lt.b),s["\u0275\u0275directiveInject"](lt.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-save-daily-tour-dialog"]],decls:60,vars:29,consts:[[1,"daily-tour-popup"],[4,"ngIf"],[1,"route-name"],[1,"tour-info"],[1,"locations-row"],[4,"ngFor","ngForOf"],[1,"form-wrap"],[1,"daily-tour-form",3,"formGroup"],["class","input-wrap",4,"ngIf"],[1,"input-wrap"],[1,"input-container"],[1,"input"],["placeholder","Start Date","name","bookingDate","formControlName","start_date",1,"Check_out_inp",3,"matDatepickerFilter","matDatepicker","dateChange"],["matSuffix","",1,"checkInIcon",3,"for"],["startView","year"],["startPicker",""],["placeholder","End Date","name","bookingDate","formControlName","end_date",1,"Check_out_inp",3,"matDatepickerFilter","matDatepicker","dateChange"],["endPicker",""],["placeholder","Start time","formControlName","start_time",3,"ngxTimepicker","ngxMaterialTimepickerTheme"],[3,"for"],["start_timepicker",""],["placeholder","End time","formControlName","end_time",3,"ngxTimepicker","ngxMaterialTimepickerTheme"],["end_timepicker",""],["type","text","placeholder","Price","formControlName","price"],[1,"input","people-count"],["type","hidden","formControlName","max_participants_count",1,"hidden"],[1,"guests-count",3,"value","size","buttonsOrientation","placeholder","valueChange"],[1,"actions"],[1,"btn",3,"click"],["class","btn remove-daily-tour",3,"click",4,"ngIf"],[1,"name"],[1,"select","tour-names"],["formControlName","tour_id",3,"change"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"btn","remove-daily-tour",3,"click"]],template:function(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275template"](1,dt,2,0,"h2",1),s["\u0275\u0275template"](2,mt,2,0,"h2",1),s["\u0275\u0275elementStart"](3,"h3",2),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",3),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275elementStart"](7,"ul"),s["\u0275\u0275template"](8,ut,5,2,"li",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275elementStart"](10,"form",7),s["\u0275\u0275template"](11,ht,7,3,"div",8),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"div",11),s["\u0275\u0275elementStart"](15,"input",12),s["\u0275\u0275listener"]("dateChange",(function(t){return e.dateChanged(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](16,"mat-datepicker-toggle",13),s["\u0275\u0275element"](17,"mat-datepicker",14,15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,Ct,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",10),s["\u0275\u0275elementStart"](21,"div",11),s["\u0275\u0275elementStart"](22,"input",16),s["\u0275\u0275listener"]("dateChange",(function(t){return e.dateChanged(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](23,"mat-datepicker-toggle",13),s["\u0275\u0275element"](24,"mat-datepicker",14,17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](26,_t,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"div",9),s["\u0275\u0275elementStart"](28,"div",10),s["\u0275\u0275elementStart"](29,"div",11),s["\u0275\u0275element"](30,"input",18),s["\u0275\u0275elementStart"](31,"ngx-material-timepicker-toggle",19),s["\u0275\u0275elementStart"](32,"mat-icon"),s["\u0275\u0275text"](33,"access_time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](34,"ngx-material-timepicker",null,20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](36,vt,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](37,"div",10),s["\u0275\u0275elementStart"](38,"div",11),s["\u0275\u0275element"](39,"input",21),s["\u0275\u0275elementStart"](40,"ngx-material-timepicker-toggle",19),s["\u0275\u0275elementStart"](41,"mat-icon"),s["\u0275\u0275text"](42,"access_time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](43,"ngx-material-timepicker",null,22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](45,Ot,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](46,"div",9),s["\u0275\u0275elementStart"](47,"div",10),s["\u0275\u0275elementStart"](48,"div",11),s["\u0275\u0275element"](49,"input",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](50,Pt,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](51,"div",10),s["\u0275\u0275elementStart"](52,"div",24),s["\u0275\u0275element"](53,"input",25),s["\u0275\u0275elementStart"](54,"ng-number-picker",26),s["\u0275\u0275listener"]("valueChange",(function(t){return e.peopleCount=t}))("valueChange",(function(t){return e.peopleCountChanged(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](55,Mt,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](56,"div",27),s["\u0275\u0275elementStart"](57,"button",28),s["\u0275\u0275listener"]("click",(function(){return e.save()})),s["\u0275\u0275text"](58,"Save"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](59,xt,2,0,"button",29),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275reference"](18),o=s["\u0275\u0275reference"](25),r=s["\u0275\u0275reference"](35),i=s["\u0275\u0275reference"](44);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.editCase),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.editCase),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==e.tour?null:e.tour.title),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",null==e.tour?null:e.tour.tour_locations),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("formGroup",e.dailyTourForm),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.editCase),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("matDatepickerFilter",e.previousDatesFilter)("matDatepicker",n),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("for",n),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.dailyTourForm.get("start_date").hasError("required")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("matDatepickerFilter",e.previousDatesFilter)("matDatepicker",o),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("for",o),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.dailyTourForm.get("end_date").hasError("required")),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngxTimepicker",r)("ngxMaterialTimepickerTheme",e.timepickerTheme),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("for",r),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.dailyTourForm.get("start_time").hasError("required")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngxTimepicker",i)("ngxMaterialTimepickerTheme",e.timepickerTheme),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("for",i),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.dailyTourForm.get("end_time").hasError("required")),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.dailyTourForm.get("price").hasError("required")),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",e.peopleCount)("size","small")("buttonsOrientation","v")("placeholder","Total count"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.dailyTourForm.get("max_participants_count").hasError("required")),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",e.editCase)}},directives:[o.l,o.k,g.z,g.p,g.h,g.b,q.b,g.o,g.g,q.d,C.g,q.a,pt.d,pt.c,pt.e,v.a,pt.a,L.a,g.w,g.s,g.y,C.a],styles:['.daily-tour-popup[_ngcontent-%COMP%]{padding:0 66px 40px;width:560px}.daily-tour-popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-transform:uppercase;color:#707070;font-size:16px;font-weight:700;text-align:center}.daily-tour-popup[_ngcontent-%COMP%]   .route-name[_ngcontent-%COMP%]{text-align:center;font-size:18px}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]{margin-top:32px}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin:0}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:8px;font-size:24px;color:#7bc447}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:after{content:""}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]{margin-top:16px;display:flex}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:4px;display:flex;justify-content:space-between;font-size:16px;color:#707070}.daily-tour-popup[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;margin-left:24px}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]{margin-top:24px}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]{margin-top:16px;display:flex}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;margin-right:16px;position:relative}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 24px;background:#f2f2f2;font-size:16px;border:0}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{padding-right:12px;margin-bottom:16px}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:#f9f9f9;font-size:16px;color:#707070;border:.5px solid transparent}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border:.5px solid #7bc447}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .tour-names[_ngcontent-%COMP%]{margin:auto}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:24px;padding:12px 24px;color:#fff;font-size:16px;background-color:#7bc447;border:none;border-radius:0;text-transform:uppercase;font-weight:600}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.daily-tour-popup[_ngcontent-%COMP%]   .form-wrap[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .remove-daily-tour[_ngcontent-%COMP%]{background-color:#8b0000}']}),t}(),wt=["trigger"];function bt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"mat-option",20),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275property"]("value",n),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var St=function(){function t(t,e){this.toursService=t,this.fb=e,this.myControl=new g.e,this.tours=[],this.nameFilter="",this.filterDate=null,this.viewDate=F()().format("YYYY-MM-DD"),this.view=at.d.Week,this.CalendarView=at.d,this.filterAction=new s.EventEmitter,this.openDialog=new s.EventEmitter,this.filtersForm=this.fb.group({})}return t.prototype.ngOnInit=function(){var t=this;this.getAllTours(),this.filteredTours=this.myControl.valueChanges.pipe(Object(j.a)(""),Object(V.a)((function(t){return"string"==typeof t?t:t.name})),Object(V.a)((function(e){return t._filter(e)}))),this.filterAction.emit({name:this.nameFilter,date:this.viewDate,view:this.view})},t.prototype.getAllTours=function(){var t=this;this.toursService.getAllTours().subscribe((function(e){t.tours=e}))},t.prototype._filter=function(t){var e,n=null===(e=t)||void 0===e?void 0:e.toLowerCase();return this.tours.filter((function(t){return t.name.toLowerCase().includes(n)}))},t.prototype.getFilter=function(t){this.nameFilter=t.name,this.filterAction.emit({name:this.nameFilter,date:F()(this.viewDate).format("YYYY-MM-DD"),view:this.view})},t.prototype.displayProp=function(t){var e;return null===(e=t)||void 0===e?void 0:e.name},t.prototype.openAddDaily=function(){this.openDialog.emit()},t.prototype.clearSelection=function(){this.myControl.patchValue(""),this.filterAction.emit({name:"",date:F()(this.viewDate).format("YYYY-MM-DD"),view:this.view}),this.focusTourFilterInput(this.trigger)},t.prototype.focusTourFilterInput=function(t){t._onChange(""),t.openPanel()},t.prototype.setView=function(t){this.view=t,this.filterAction.emit({name:this.nameFilter,date:F()(this.viewDate).format("YYYY-MM-DD"),view:this.view})},t.prototype.changeViewDate=function(){this.filterAction.emit({date:F()(this.viewDate).format("YYYY-MM-DD"),view:this.view,name:this.nameFilter})},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](g.d))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-daily-tours-filters"]],viewQuery:function(t,e){var n;1&t&&s["\u0275\u0275viewQuery"](wt,!0),2&t&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(e.trigger=n.first)},outputs:{filterAction:"filter",openDialog:"openDialog"},decls:43,vars:22,consts:[["id","filters-actions-row"],[1,"daily-tours"],["id","add-daily-tour-btn",3,"click"],["id","filters"],["id","filter-by-name"],["type","text","placeholder","Pick one","aria-label","Search...","matInput","",3,"formControl","matAutocomplete","click","focus"],["trigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["id","calendar-filters"],[1,"left-group"],[1,"view-type"],[3,"click"],[1,"right-group"],["id","todays-date"],["mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"today",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],[3,"value"]],template:function(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"h1"),s["\u0275\u0275text"](3,"Daily tours"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",2),s["\u0275\u0275listener"]("click",(function(){return e.openAddDaily()})),s["\u0275\u0275text"](5," + Add daily tour "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"form"),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"span"),s["\u0275\u0275text"](10,"Filter by tour name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"mat-form-field"),s["\u0275\u0275elementStart"](12,"input",5,6),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275reference"](13);return e.focusTourFilterInput(t)}))("focus",(function(){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275reference"](13);return e.focusTourFilterInput(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"mat-autocomplete",7,8),s["\u0275\u0275listener"]("optionSelected",(function(t){return e.getFilter(t.option.value)})),s["\u0275\u0275template"](16,bt,2,2,"mat-option",9),s["\u0275\u0275pipe"](17,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"button",10),s["\u0275\u0275listener"]("click",(function(){return e.clearSelection()})),s["\u0275\u0275elementStart"](19,"mat-icon"),s["\u0275\u0275text"](20,"close"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",11),s["\u0275\u0275elementStart"](22,"div",12),s["\u0275\u0275elementStart"](23,"div",13),s["\u0275\u0275elementStart"](24,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.setView(e.CalendarView.Month)})),s["\u0275\u0275text"](25," Month "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.setView(e.CalendarView.Week)})),s["\u0275\u0275text"](27," Week "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.setView(e.CalendarView.Day)})),s["\u0275\u0275text"](29," Day "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",15),s["\u0275\u0275elementStart"](31,"div",16),s["\u0275\u0275elementStart"](32,"h3"),s["\u0275\u0275text"](33),s["\u0275\u0275pipe"](34,"calendarDate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"button",17),s["\u0275\u0275listener"]("viewDateChange",(function(t){return e.viewDate=t}))("viewDateChange",(function(){return e.changeViewDate()})),s["\u0275\u0275elementStart"](36,"mat-icon"),s["\u0275\u0275text"](37,"keyboard_arrow_left"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"button",18),s["\u0275\u0275listener"]("viewDateChange",(function(t){return e.viewDate=t})),s["\u0275\u0275text"](39," Today "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](40,"button",19),s["\u0275\u0275listener"]("viewDateChange",(function(t){return e.viewDate=t}))("viewDateChange",(function(){return e.changeViewDate()})),s["\u0275\u0275elementStart"](41,"mat-icon"),s["\u0275\u0275text"](42,"keyboard_arrow_right"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275reference"](15);s["\u0275\u0275advance"](12),s["\u0275\u0275property"]("formControl",e.myControl)("matAutocomplete",o),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("displayWith",e.displayProp),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind1"](17,16,e.filteredTours)),s["\u0275\u0275advance"](8),s["\u0275\u0275classProp"]("active",e.view===e.CalendarView.Month),s["\u0275\u0275advance"](2),s["\u0275\u0275classProp"]("active",e.view===e.CalendarView.Week),s["\u0275\u0275advance"](2),s["\u0275\u0275classProp"]("active",e.view===e.CalendarView.Day),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind3"](34,18,e.viewDate,e.view+"ViewTitle","en")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("view",e.view)("viewDate",e.viewDate),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("viewDate",e.viewDate),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("view",e.view)("viewDate",e.viewDate)}},directives:[g.z,g.p,g.q,C.b,_.b,g.b,A.c,g.o,g.f,A.a,o.k,O.b,C.g,v.a,at.g,at.i,at.h,N.n],pipes:[o.b,at.j],styles:["#filters-actions-row[_ngcontent-%COMP%]{display:flex;padding-top:20px}#filters-actions-row[_ngcontent-%COMP%]   .daily-tours[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}#filters-actions-row[_ngcontent-%COMP%]   .daily-tours[_ngcontent-%COMP%]   #add-daily-tour-btn[_ngcontent-%COMP%]{background-color:#7bc447;color:#fff;height:51px;padding:16px 24px;font:normal normal 700 16px/15px Roboto;text-transform:uppercase;border-radius:0;border:none}#filters[_ngcontent-%COMP%]{margin-left:20px;max-width:500px;width:100%}#filters[_ngcontent-%COMP%]   #filter-by-name[_ngcontent-%COMP%]{width:75%;display:flex;align-items:center}#filters[_ngcontent-%COMP%]   #filter-by-name[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-left:20px!important}#calendar-filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:30px}#calendar-filters[_ngcontent-%COMP%]   .left-group[_ngcontent-%COMP%]   .view-type[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:78px;height:43px;background:#f9f9f9 0 0 no-repeat padding-box;box-shadow:0 0 6px rgba(0,0,0,.08);text-transform:uppercase;border:none;font:normal normal normal 16px/15px Roboto;color:#414141}#calendar-filters[_ngcontent-%COMP%]   .left-group[_ngcontent-%COMP%]   .view-type[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#7bc447}#calendar-filters[_ngcontent-%COMP%]   .right-group[_ngcontent-%COMP%]{display:flex}#calendar-filters[_ngcontent-%COMP%]   .right-group[_ngcontent-%COMP%]   #todays-date[_ngcontent-%COMP%]{color:#084f93;font-size:16px}#calendar-filters[_ngcontent-%COMP%]   .right-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none}#calendar-filters[_ngcontent-%COMP%]   .right-group[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{background:unset}"]}),t}();function Et(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mwl-calendar-week-view",5),s["\u0275\u0275listener"]("eventClicked",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().eventClicked(t.event)}))("eventTimesChanged",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().tourDatesChanged(t)})),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("weekStartsOn",1)("events",o.tours)("viewDate",o.viewDate)("refresh",o.refresh)}}function kt(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mwl-calendar-month-view",6),s["\u0275\u0275listener"]("dayClicked",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().dayClicked(t.day)}))("eventClicked",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().eventClicked(t.event)}))("eventTimesChanged",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().tourDatesChanged(t)})),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("viewDate",o.viewDate)("events",o.tours)("refresh",o.refresh)("activeDayIsOpen",o.activeDayIsOpen)}}function Tt(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mwl-calendar-day-view",7),s["\u0275\u0275listener"]("eventClicked",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().eventClicked(t.event)}))("eventTimesChanged",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().tourDatesChanged(t)})),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("viewDate",o.viewDate)("events",o.tours)("refresh",o.refresh)}}var It=function(){function t(t,e,n){this.toursService=t,this.common=e,this.dialog=n,this.tours=[],this.filterDate=null,this.viewDate=new Date,this.view=at.d.Week,this.activeDayIsOpen=!0,this.refresh=new ct.a,this.CalendarView=at.d}return t.prototype.ngOnInit=function(){this.filterDate=Object(o.v)(new Date,"dd/MM/yyyy","en"),this.getDailies({scheduled:0,calendar:!0}),this.common.dataLoading=!1},t.prototype.dateFilterChanged=function(t){this.filterDate=F()(t.value).format("DD/MM/yyyy"),this.getDailies({date:new Date(t.value),calendar:!0})},t.prototype.toggleScheduled=function(t){this.getDailies({scheduled:t.checked?1:0,calendar:!0})},t.prototype.getDailies=function(t){var e=this;this.filter=t,this.toursService.getDailies(Object(it.__assign)(Object(it.__assign)({},t),{calendar:!0})).subscribe((function(n){var o,r;e.tours=n,e.viewDate=null===(o=t)||void 0===o?void 0:o.date,e.view=null===(r=t)||void 0===r?void 0:r.view}))},t.prototype.openAddDaily=function(t){var e=this;void 0===t&&(t=null),this.dialog.open(yt,{data:Object(it.__assign)(Object(it.__assign)({},t),{edit:!1})}).afterClosed().subscribe((function(t){e.getDailies(Object(it.__assign)(Object(it.__assign)({},e.filter),{calendar:!0}))}))},t.prototype.eventClicked=function(t){var e=this,n=this.tours.find((function(e){return e.meta.id===t.meta.id}));this.dialog.open(yt,{data:{tour:n,edit:!0}}).afterClosed().subscribe((function(t){e.getDailies(Object(it.__assign)(Object(it.__assign)({},e.filter),{calendar:!0}))}))},t.prototype.dayClicked=function(t){},t.prototype.changeViewDate=function(){},t.prototype.tourDatesChanged=function(t){var e=t.event,n=t.newStart,o=t.newEnd;e.start=n,e.end=o,this.toursService.updateTourDates({start_date:n,end_date:o,id:e.meta.id}).subscribe((function(t){})),this.refresh.next()},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](lt.b))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-show-daily-tours"]],decls:5,vars:4,consts:[[3,"filter","openDialog"],[3,"ngSwitch"],[3,"weekStartsOn","events","viewDate","refresh","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"weekStartsOn","events","viewDate","refresh","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"app-daily-tours-filters",0),s["\u0275\u0275listener"]("filter",(function(t){return e.getDailies(t)}))("openDialog",(function(){return e.openAddDaily()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275template"](2,Et,1,4,"mwl-calendar-week-view",2),s["\u0275\u0275template"](3,kt,1,4,"mwl-calendar-month-view",3),s["\u0275\u0275template"](4,Tt,1,3,"mwl-calendar-day-view",4),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitch",e.view),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase",e.CalendarView.Week),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase",e.CalendarView.Month),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase",e.CalendarView.Day))},directives:[St,o.n,o.o,at.e,at.c,at.a],styles:['.daily-tours[_ngcontent-%COMP%]{padding:32px 24px}.daily-tours[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.daily-tours[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .scheduled-tours[_ngcontent-%COMP%]{margin-left:300px}.daily-tours[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#414141;font-size:32px;font-weight:700}.daily-tours[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{font-size:16px;color:#636363}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(33.3% - 16px);margin:24px 24px 0 0;padding:24px 16px;box-shadow:0 0 6px rgba(0,0,0,.16)}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3n+3){margin-right:0}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;color:#707070;font-size:16px}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .date.time[_ngcontent-%COMP%], .daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .time.time[_ngcontent-%COMP%]{margin-top:8px}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%], .daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{margin:0;cursor:pointer}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:8px;font-size:21px}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]{margin-top:34px}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin:0}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:4px;font-size:16px}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#7bc447}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .locations-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:after{content:""}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:16px;color:#707070}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:38px;color:#959595;font-weight:700}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#084f93}.daily-tours[_ngcontent-%COMP%]   .tours-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .counts-row-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:32px;color:#084f93;font-weight:700}']}),t}(),Dt=n("Zuqz"),Ft=n("cUzu"),jt=function(){function t(t){this.httpClient=t}return t.prototype.get=function(){return this.httpClient.get(i.g+"locations/get",{})},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275inject"](Ft.b))},t.\u0275prov=s["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Vt=n("UUPc"),zt=n("9xib"),At=n("H3BH"),qt=n("tCkP"),Lt=n("8BMD"),Nt=n("XEEw"),Yt=n("L2md"),Rt=n("Wjhp"),Bt=n("YpNe"),Gt=n("39mE");function Ut(t,e){if(1&t&&s["\u0275\u0275element"](0,"mat-spinner",33),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}function Wt(t,e){1&t&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"span"),s["\u0275\u0275text"](2,"Add a new Tour routes"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]())}function Jt(t,e){1&t&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mat-icon"),s["\u0275\u0275text"](2,"edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"span"),s["\u0275\u0275text"](4,"Edit tour details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]())}function $t(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"option",34),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275property"]("value",n.id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Zt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"Please select a tour type"),s["\u0275\u0275elementEnd"]())}function Ht(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"option",34),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275property"]("value",n.id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("",n.name," ")}}function Qt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-hint"),s["\u0275\u0275text"](1," For one-location tours start point and end points are equal "),s["\u0275\u0275elementEnd"]())}function Xt(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"i",40),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"]().index;return s["\u0275\u0275nextContext"]().removeLocationControl(t)})),s["\u0275\u0275text"](1," clear "),s["\u0275\u0275elementEnd"]()}}function Kt(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementContainerStart"](1,35),s["\u0275\u0275elementStart"](2,"div",36),s["\u0275\u0275elementStart"](3,"div",6),s["\u0275\u0275elementStart"](4,"select",37),s["\u0275\u0275listener"]("change",(function(t){s["\u0275\u0275restoreView"](n);var o=e.index;return s["\u0275\u0275nextContext"]().locationChanged(t.target.value,o)})),s["\u0275\u0275elementStart"](5,"option",38),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,Ht,2,2,"option",9),s["\u0275\u0275element"](8,"option"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Qt,2,0,"mat-hint",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](10,Xt,2,0,"i",39),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&t){var o=e.index,r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("formGroupName",o.toString()),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("id",r.getLocationControlDetails(o,"id")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",""),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](r.getLocationControlDetails(o,"title")),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",r.locationsList),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",0===o&&1===r.locations.controls.length),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",o>=1)}}function te(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",41),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().addLocationControl()})),s["\u0275\u0275text"](1," + Add location "),s["\u0275\u0275elementEnd"]()}}function ee(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Price is required "),s["\u0275\u0275elementEnd"]())}function ne(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Tour name is required "),s["\u0275\u0275elementEnd"]())}function oe(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"option",34),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275property"]("value",n.id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function re(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Partner company is required "),s["\u0275\u0275elementEnd"]())}function ie(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"input",42),s["\u0275\u0275listener"]("change",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().getFile(t.target.files)})),s["\u0275\u0275elementEnd"]()}}function ae(t,e){if(1&t&&s["\u0275\u0275element"](0,"mat-spinner",33),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("diameter",n.spinnerDiameter)}}function ce(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",43),s["\u0275\u0275elementStart"](1,"mat-slide-toggle",44),s["\u0275\u0275listener"]("change",(function(){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"]();return t.coverShown=!t.coverShown})),s["\u0275\u0275elementStart"](2,"small"),s["\u0275\u0275text"](3,"Show cover"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("checked",o.coverShown)}}function le(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",48),s["\u0275\u0275element"](1,"img",49),s["\u0275\u0275elementStart"](2,"div",50),s["\u0275\u0275elementStart"](3,"button",51),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).removeSavedImg()})),s["\u0275\u0275elementStart"](4,"mat-icon"),s["\u0275\u0275text"](5,"delete"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"span"),s["\u0275\u0275text"](7,"Reset cover"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",o.coverPath,s["\u0275\u0275sanitizeUrl"])}}function se(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"dropzone",52),s["\u0275\u0275listener"]("addedFile",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).getFile(t)}))("removedFile",(function(t){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).removeDropzoneImg(t)})),s["\u0275\u0275elementEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("message","Click or drag images here to upload")("config",o.dropZoneConfig)}}function pe(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"div",45),s["\u0275\u0275template"](1,le,8,1,"div",46),s["\u0275\u0275template"](2,se,1,2,"dropzone",47),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.coverPath&&n.coverShown),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!n.coverShown)}}var de=function(){return[]};function me(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"ngx-gallery",53),s["\u0275\u0275listener"]("previewOpen",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleSidebar("hide")}))("previewClose",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleSidebar("show")})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&t){var o=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("options",o.galleryOptions)("images",o.tourData.images||s["\u0275\u0275pureFunction0"](2,de))}}var ue=function(){function t(t,e,n,o,r,a,c,l,s,p,d,m,u,g,f){var h=this;this.fb=t,this.common=e,this.toursService=n,this.locationsService=o,this.companiesService=r,this.subject=a,this.toastr=c,this.checkFormData=l,this.getCheckoutDates=s,this.getTourFormFields=p,this.router=d,this.route=m,this.dialog=u,this.markCover=g,this.elRef=f,this.tourFields=this.getTourFormFields.transform(),this.toursForm=this.fb.group(this.tourFields),this.editCase=!1,this.isSubmitted=!1,this.backUrl="admin/tours",this.dropZoneFiles=[],this.dropZoneConfig=i.N,this.timePickerTheme=i.M,this.spinnerDiameter=i.J,this.galleryOptions=i.q,this.subscriptions=[],this.maxLocationChoices=i.A,this.maxParticipantsCount=i.o,this.coverShown=!1,this.previousDatesFilter=i.F,this.checkoutDatesFilter=function(t){return F()(t).isSameOrAfter(F()(h.startDateCtrl.value),"day")},this.common.dataLoading=!1,this.galleryOptions[0].thumbnailActions=[{icon:"fa fa-star",onClick:function(t,e){qt.a.set(t),h.makeCover(t,e)},titleText:"cover"},{icon:"fa fa-times-circle",onClick:function(t,e){h.removeSliderImage(t,e)},titleText:"delete"}]}return t.prototype.ngOnInit=function(){this.getLocations(),this.getTourTypes(),this.getCompanies(),this.handleEditCase()},t.prototype.getLocations=function(){var t=this;this.subscriptions.push(this.locationsService.get().subscribe((function(e){t.locationsList=e,t.tourData&&(t.tourData.tour_locations.map((function(e,n){var o=t.toursForm.controls.locations;t.tourData.tour_locations.length>o.length&&t.addLocationControl(),o.controls[n].patchValue({id:e.id,name:e.id,order:n})})),t.generateTourName())})))},t.prototype.getCompanies=function(){var t=this;this.subscriptions.push(this.companiesService.get({name:"tours"}).subscribe((function(e){t.companies=e,t.checkFormData.transform("tours",t.tourData,t.companies,t.editCase)})))},t.prototype.getTourTypes=function(){var t=this;this.subscriptions.push(this.toursService.getAllTourTypes().subscribe((function(e){t.tourTypes=e,0===e.length&&t.toastr.info("Please add at least one tour type.","No tour types",{timeOut:0})})))},t.prototype.handleEditCase=function(){var t=this;this.subscriptions.push(this.route.data.subscribe((function(e){var n,o;if(t.route.snapshot.paramMap.get("id")&&e){t.editCase=!0,t.tourData=e.tour,t.tourFields.id=null,t.toursForm=t.fb.group(t.tourFields),t.toursForm.patchValue(Object(it.__assign)(Object(it.__assign)({},t.tourData),{oldName:t.tourData.name}));var r=null===(o=null===(n=t.tourData)||void 0===n?void 0:n.tours_dailies)||void 0===o?void 0:o[0];t.toursForm.patchValue({start_date:r.start_date,start_time:r.start_time,end_date:r.end_date,end_time:r.end_time}),t.coverPath=t.tourData.img?t.tourData.realFolder+"/"+t.tourData.img:null,t.coverShown=!!t.coverPath,t.common.dataLoading=!1}})))},t.prototype.dateChanged=function(t,e){"start"===e&&1===this.locations.length&&this.endDateCtrl.patchValue(t.value)},t.prototype.getLocationControlDetails=function(t,e){return this.locations.controls[t].patchValue({title:i.x[t].title}),i.x[t][e]},t.prototype.addLocationControl=function(){var t=this.locations.length;t<i.A&&this.locations.controls.push(this.getTourFormFields.getLocationsFormGroup(i.x[t].title,t-1))},t.prototype.removeLocationControl=function(t){this.locations.removeAt(t)},t.prototype.locationChanged=function(t,e){this.locations.controls[e].patchValue({id:t}),this.generateTourName()},t.prototype.getLocationCtrlByName=function(t){return this.locations.controls.find((function(e){return e.value.title===t}))},t.prototype.peopleCountChanged=function(t){this.toursForm.patchValue({max_participants_count:t})},t.prototype.generateTourName=function(){var t=this,e="";this.locations.controls.map((function(n,o){var r;e+=(null===(r=t.locationsList.find((function(t){return t.id===+n.value.id})))||void 0===r?void 0:r.name)+(o===t.locations.controls.length-1?"":"-")})),this.toursForm.patchValue({name:e})},t.prototype.saveTourDetails=function(){var t=this;this.isSubmitted=!0;var e=this.toursForm.getRawValue(),n=this.buildFormData(e);this.toursService[this.editCase?"update":"add"](n).subscribe((function(){t.router.navigate(["admin/tours/show"])}))},t.prototype.buildFormData=function(t){for(var e=new FormData,n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];e.append(r,"locations"===r?JSON.stringify(t[r]):t[r])}return e.forEach((function(t,e){})),this.dropZoneFiles.map((function(t){e.append("upload_images",t,t?t.name:"")})),e},t.prototype.getFile=function(t){this.dropZoneFiles.push(t)},t.prototype.removeDropzoneImg=function(t){this.dropZoneFiles=this.dropZoneFiles.filter((function(e){return t.name!==e.name}))},t.prototype.removeSliderImage=function(t,e){var n=this;this.dialog.open(st.a,i.h).afterClosed().subscribe((function(t){if(t){var o=n.tourData.images[e].big;Lt.a.check(o,n.coverPath)?n.toastr.error("Please change the cover first.","This is the cover image."):(n.tourData.images=n.tourData.images.filter((function(t){return t.big!==o})),n.toursService.removeImage({filename:o}).subscribe((function(t){n.toastr.success("The selected image was removed successfully")})))}}))},t.prototype.makeCover=function(t,e){var n=this,o=Nt.a.set(t,e,this.tourData.images);if(this.coverShown=!0,o){this.coverPath=o.big;var r=this.coverPath.split("/").pop();this.toursService.makeCover({img:r,id:this.tourData.id}).subscribe((function(t){n.toursForm.patchValue({img:r}),n.toastr.success("The selected image was set as cover successfully")}))}},t.prototype.removeSavedImg=function(){this.coverPath="",this.toursForm.patchValue({img:""}),this.coverShown=!1,this.markCover.transform(this.coverPath,this.elRef)},t.prototype.toggleSidebar=function(t){this.subject.setSidebarAction(t)},Object.defineProperty(t.prototype,"locations",{get:function(){return this.toursForm.get("locations")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toursTypes",{get:function(){return this.toursForm.get("tours_type_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nameCtrl",{get:function(){return this.toursForm.get("name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDateCtrl",{get:function(){return this.toursForm.get("start_date")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDateCtrl",{get:function(){return this.toursForm.get("end_date")},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.editCase&&this.markCover.transform(this.coverPath,this.elRef)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](g.d),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](jt),s["\u0275\u0275directiveInject"](zt.a),s["\u0275\u0275directiveInject"](T.a),s["\u0275\u0275directiveInject"](f.b),s["\u0275\u0275directiveInject"](Vt.a),s["\u0275\u0275directiveInject"](At.a),s["\u0275\u0275directiveInject"](Dt.a),s["\u0275\u0275directiveInject"](r.d),s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](lt.b),s["\u0275\u0275directiveInject"](Yt.a),s["\u0275\u0275directiveInject"](s.ElementRef))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-save-tour-form"]],decls:51,vars:26,consts:[[3,"diameter",4,"ngIf"],["id","save-tour-form",1,"formContainer"],[3,"formGroup"],[1,"formTitle"],[4,"ngIf"],[1,"input-wrap"],[1,"select"],["formControlName","tours_type_id"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formArrayName","locations",1,"locations-group","locations-wrap"],[4,"ngFor","ngForOf"],["id","add-location-btn"],["class","add-location",3,"click",4,"ngIf"],[1,"row"],[1,"input","people-count","picker"],["type","hidden","formControlName","max_participants_count",1,"hidden"],[1,"guests-count",3,"value","size","buttonsOrientation","placeholder","valueChange"],[1,"input"],["type","text","placeholder","Price","value","","formControlName","price"],["placeholder","Name","formControlName","name","required",""],["formControlName","company_id"],[1,"fileContainer",3,"hidden"],["type","file","required","",3,"change",4,"ngIf"],[3,"diameter","hidden"],[1,"actions"],[1,"left-group"],["type","button",1,"backBtn",3,"click"],["mat-raised-button","","color","primary",1,"saveBtn",3,"click"],[1,"right-group"],["class","cover-toggler",4,"ngIf"],["class","dropzoneContainer",4,"ngIf"],[1,"gallery-container"],[3,"diameter"],[3,"value"],[3,"formGroupName"],[1,"location-selector",3,"id"],["formControlName","name",3,"change"],["selected","","disabled","",3,"value"],["class","remove-location-icon material-icons",3,"click",4,"ngIf"],[1,"remove-location-icon","material-icons",3,"click"],[1,"add-location",3,"click"],["type","file","required","",3,"change"],[1,"cover-toggler"],["color","primary",3,"checked","change"],[1,"dropzoneContainer"],["class","saved-img-container",4,"ngIf"],["class","multiple",3,"message","config","addedFile","removedFile",4,"ngIf"],[1,"saved-img-container"],[1,"saved-img",3,"src"],[1,"reset-cover-container"],["mat-raised-button","",1,"reset-cover",3,"click"],[1,"multiple",3,"message","config","addedFile","removedFile"],[1,"editFormGallery",3,"options","images","previewOpen","previewClose"]],template:function(t,e){1&t&&(s["\u0275\u0275template"](0,Ut,1,1,"mat-spinner",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"form",2),s["\u0275\u0275elementStart"](3,"h4",3),s["\u0275\u0275template"](4,Wt,3,0,"ng-container",4),s["\u0275\u0275template"](5,Jt,5,0,"ng-container",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",5),s["\u0275\u0275elementStart"](7,"div",6),s["\u0275\u0275elementStart"](8,"select",7),s["\u0275\u0275elementStart"](9,"option",8),s["\u0275\u0275text"](10,"Tour Types"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,$t,2,2,"option",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](12,Zt,2,0,"mat-error",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275template"](14,Kt,11,7,"ng-container",11),s["\u0275\u0275elementStart"](15,"div",12),s["\u0275\u0275template"](16,te,2,0,"button",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",14),s["\u0275\u0275elementStart"](18,"div",15),s["\u0275\u0275element"](19,"input",16),s["\u0275\u0275elementStart"](20,"ng-number-picker",17),s["\u0275\u0275listener"]("valueChange",(function(t){return e.maxParticipantsCount=t}))("valueChange",(function(t){return e.peopleCountChanged(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",18),s["\u0275\u0275element"](22,"input",19),s["\u0275\u0275template"](23,ee,2,0,"mat-error",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"div",5),s["\u0275\u0275elementStart"](25,"div",18),s["\u0275\u0275element"](26,"input",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](27,ne,2,0,"mat-error",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",5),s["\u0275\u0275elementStart"](29,"div",6),s["\u0275\u0275elementStart"](30,"select",21),s["\u0275\u0275elementStart"](31,"option",8),s["\u0275\u0275text"](32,"Company"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](33,oe,2,2,"option",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](34,re,2,0,"mat-error",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",22),s["\u0275\u0275template"](36,ie,1,0,"input",23),s["\u0275\u0275element"](37,"mat-spinner",24),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"div",25),s["\u0275\u0275template"](39,ae,1,1,"mat-spinner",0),s["\u0275\u0275elementStart"](40,"div",26),s["\u0275\u0275elementStart"](41,"button",27),s["\u0275\u0275listener"]("click",(function(){return e.router.navigate([e.backUrl])})),s["\u0275\u0275elementStart"](42,"mat-icon"),s["\u0275\u0275text"](43,"arrow_back"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"button",28),s["\u0275\u0275listener"]("click",(function(){return e.saveTourDetails()})),s["\u0275\u0275text"](45," Save Tour "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](46,"div",29),s["\u0275\u0275template"](47,ce,4,1,"div",30),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](48,pe,3,2,"div",31),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](49,"div",32),s["\u0275\u0275template"](50,me,2,3,"ng-container",4),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275property"]("ngIf",e.common.dataLoading),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("formGroup",e.toursForm),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!e.editCase),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.editCase),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",e.tourTypes),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.toursTypes.hasError("required")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",e.locations.controls),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.locations.controls&&e.locations.controls.length<e.maxLocationChoices),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",e.maxParticipantsCount)("size","small")("buttonsOrientation","v")("placeholder","Total count"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.toursForm.get("price").hasError("required")),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.nameCtrl.hasError("required")),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",e.companies),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.isSubmitted&&e.toursForm.get("company_id").hasError("required")),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("hidden",!0),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.editCase),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("diameter",e.spinnerDiameter)("hidden",!e.common.formProcessing),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.common.formProcessing),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",!!e.coverPath),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.common.dataLoading&&(null==e.companies?null:e.companies.length)>0&&(null==e.tourTypes?null:e.tourTypes.length)>0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.editCase))},directives:[o.l,g.z,g.p,g.h,g.w,g.o,g.g,g.s,g.y,o.k,g.c,g.b,L.a,g.v,h.b,v.a,O.b,C.a,g.i,C.e,Rt.a,Bt.b,Gt.a],styles:["#save-tour-form[_ngcontent-%COMP%]   .reset-cover-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}#save-tour-form[_ngcontent-%COMP%]   .reset-cover-container[_ngcontent-%COMP%]   .reset-cover[_ngcontent-%COMP%]{background-color:#8b0000;color:#fff;border-radius:0;box-shadow:none;padding:4px 16px;font-size:14px;font-weight:700;border:none;display:flex;align-items:center}#save-tour-form[_ngcontent-%COMP%]   .reset-cover-container[_ngcontent-%COMP%]   .reset-cover[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;margin-top:5px}form[_ngcontent-%COMP%]{max-width:600px;width:100%;padding:20px;float:left}form[_ngcontent-%COMP%]   .formTitle[_ngcontent-%COMP%]{margin:0}form[_ngcontent-%COMP%]   .addressContainer[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%]   .addressContainer[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .addressContainer[_ngcontent-%COMP%]   .resetAddress[_ngcontent-%COMP%]{display:block;float:left;background:none;border:none;outline:none!important;cursor:pointer;color:#fff;border-radius:30px;width:30px;height:30px;padding:0;color:#8b0000;margin-top:20px}form[_ngcontent-%COMP%]   .addressContainer[_ngcontent-%COMP%]   .resetAddress[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:3px}form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:40px}form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .saveBtn[_ngcontent-%COMP%]{float:left;background:#7bc447;border-radius:0;box-shadow:none;padding:4px 16px;font-size:16px;font-weight:700}form[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{float:right}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]{margin-top:24px}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-bottom:16px}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:#f9f9f9;padding:12px 23px;font-size:16px;color:#707070;border:.5px solid transparent}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:.5px solid #7bc447}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{padding-right:12px;margin-bottom:16px}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:#f9f9f9;font-size:16px;color:#707070;border:.5px solid transparent}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border:.5px solid #7bc447}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row.input-icons[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-left:16px}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row.input-icons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% + 16px);margin-left:-16px;padding-left:48px}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row.time-icons[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-left:12px}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row.time-icons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% + 12px);margin-left:-12px;padding-left:48px}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .checkInIcon[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .checkOutIcon[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .dateIcon[_ngcontent-%COMP%]{left:16px!important}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{flex:1;margin-right:16px;position:relative}form[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:last-child{margin-right:0}.dropzoneContainer[_ngcontent-%COMP%]{min-width:420px;width:25%;float:right;margin-top:39px;padding:30px;display:flex;justify-content:center;height:452px;position:relative}.dropzoneContainer[_ngcontent-%COMP%]   .removeSavedImg[_ngcontent-%COMP%]{display:block;float:left;background:none;border:none;outline:none!important;cursor:pointer;color:#fff;border-radius:30px;width:30px;height:30px;padding:0;position:absolute;top:50%;left:45%}.dropzoneContainer[_ngcontent-%COMP%]   .removeSavedImg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:3px}.dropzoneContainer[_ngcontent-%COMP%]   ngx-dropzone[_ngcontent-%COMP%]{align-self:center;width:100%}.saved-img[_ngcontent-%COMP%]{width:400px}.notFound[_ngcontent-%COMP%]{text-align:center;display:block;padding:20px}.formContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;width:90%;margin:0 auto}.location-selector[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.location-selector[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:100%;margin-bottom:0!important}.location-selector[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{display:block;text-align:right;font-size:12px}#add-location-btn[_ngcontent-%COMP%]{clear:both;margin:16px 0}#add-location-btn[_ngcontent-%COMP%]   .add-location[_ngcontent-%COMP%]{width:100%;height:51px;background:#084f93 0 0 no-repeat padding-box;box-shadow:0 0 6px rgba(0,0,0,.16);color:#fff;border:none;font:normal normal 700 15px Roboto}@media screen and (max-width:1360px){.saveTourForm[_ngcontent-%COMP%]{max-width:370px;width:100%;padding:20px;float:left;margin-left:230px}.dropzoneContainer[_ngcontent-%COMP%]{min-width:390px}}.remove-location-icon[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width:1024px){.dropzoneContainer[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:767px){.saveTourForm[_ngcontent-%COMP%]{max-width:550px;float:none;margin:auto}}"]}),t}(),ge=[{path:"",component:Z,canActivate:[Q.a]},{path:"list",component:nt},{path:"single/:id",component:ot},{path:"show",component:d,data:{title:"All tours"}},{path:"daily",component:It},{path:"orders",component:rt},{path:"add",component:ue,data:{title:"Add a new tour"}},{path:"tour/:id",component:ue,data:{title:"Edit a tour info"},resolve:{tour:m},canActivate:[H.a]},{path:"show-types",component:u,data:{title:"All tour types"}},{path:"tour-type/:id",component:S,data:{title:"Edit a tour type info"},canActivate:[H.a]},{path:"add-types",component:S,data:{title:"Add a new tour type"}}],fe=function(){function t(){}return t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.e.forChild(ge)],r.e]}),t}(),he=n("PCNd"),Ce=n("WLya");function _e(){return D.updateLocale("en",{week:{dow:1,doy:0}}),Object(Ce.adapterFactory)(D)}var ve=function(){function t(){}return t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.c,fe,he.a,at.b.forRoot({provide:at.f,useFactory:_e})]]}),t}()}}]);